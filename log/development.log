

Started GET "/" for 127.0.0.1 at 2018-12-05 19:17:18 +0800

ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rake db:migrate RAILS_ENV=development

):
  activerecord (4.2.5.2) lib/active_record/migration.rb:392:in `check_pending!'
  activerecord (4.2.5.2) lib/active_record/migration.rb:373:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.5.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.5.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.5.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.5.2) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  thin (1.7.0) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.7.0) lib/thin/connection.rb:84:in `catch'
  thin (1.7.0) lib/thin/connection.rb:84:in `pre_process'
  thin (1.7.0) lib/thin/connection.rb:53:in `process'
  thin (1.7.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run_machine'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run'
  thin (1.7.0) lib/thin/backends/base.rb:73:in `start'
  thin (1.7.0) lib/thin/server.rb:162:in `start'
  rack (1.6.5) lib/rack/handler/thin.rb:19:in `run'
  rack (1.6.5) lib/rack/server.rb:286:in `start'
  railties (4.2.5.2) lib/rails/commands/server.rb:80:in `start'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:80:in `block in server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `tap'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:39:in `run_command!'
  railties (4.2.5.2) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (1.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (310.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (377.5ms)
  [1m[36m (2.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateUsers (20170218065508)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "role" integer, "password_digest" varchar, "remember_digest" varchar, "sex" varchar, "phonenumber" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170218065508"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateMessages (20170220073308)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "body" text, "user_id" integer, "chat_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220073308"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreateChats (20170220110813)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "chats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "admin_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220110813"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to ChatsUsers (20170220111114)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "chats_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "chat_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_chats_users_on_user_id" ON "chats_users" ("user_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_chats_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chats_users_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_chats_users_on_chat_id" ON "chats_users" ("chat_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220111114"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateFriendships (20170228114534)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "friendships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "friend_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_friendships_on_user_id" ON "friendships" ("user_id")
  [1m[36m (0.0ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendships_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendships_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_friendships_on_friend_id" ON "friendships" ("friend_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170228114534"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_chats_users_on_chat_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chats_users_on_chat_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_chats_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chats_users_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_friendships_on_friend_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendships_on_friend_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendships_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendships_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_chat_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_chat_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_name' AND type='index'
[0m


Started GET "/" for 127.0.0.1 at 2018-12-05 19:19:24 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (10.5ms)
  Rendered layouts/_login_panel.html.erb (4.9ms)
  Rendered layouts/_header.html.erb (7.3ms)
  Rendered layouts/_content.html.erb (0.6ms)
Completed 200 OK in 9517ms (Views: 9495.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.self-f7e83d921c1a990210d774215b071cb38b2edd42dc8f2b73db346653da3024df.css?body=1" for 127.0.0.1 at 2018-12-05 19:19:33 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-12-05 19:19:33 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-12-05 19:19:33 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-12-05 19:19:33 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-12-05 19:19:33 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-12-05 19:19:33 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-12-05 19:19:33 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-12-05 19:19:33 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-12-05 19:19:33 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-12-05 19:19:33 +0800


Started GET "/assets/bootstrap/glyphicons-halflings-regular-fe185d11a49676890d47bb783312a0cda5a44c4039214094e7957b4c040ef11c.woff2" for 127.0.0.1 at 2018-12-05 19:19:45 +0800


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-05 19:20:06 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/+RamMYgrgyAxoQO08lzdd9bt3nDlyysBX+lKp8a7ZpjyJi5az0pGusW6q1lbZd8IqBum2Y/VHAK1mN/eEyDvw==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user1@test.com"]]
Redirected to http://localhost:3000/
Completed 302 Found in 25ms (ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 19:20:06 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 37.7ms | ActiveRecord: 0.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user1@test.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user1"], ["email", "user1@test.com"], ["password_digest", "$2a$10$JcPPNr8kXn36.PRVgWIJEeGitDapTlpmwV5B4VW84DOGGw2zYXrca"], ["role", 2], ["sex", "female"], ["phonenumber", "970.848.2303 x139"], ["status", "judge"], ["created_at", "2018-12-05 11:28:02.546295"], ["updated_at", "2018-12-05 11:28:02.546295"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user2@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user2"], ["email", "user2@test.com"], ["password_digest", "$2a$10$9TelyCXUI7bufO9hApxbyukkCp7ggMVOINRVrXPcnmVOowY6jDg5q"], ["role", 3], ["sex", "male"], ["phonenumber", "(288) 384-9798"], ["status", "accountant"], ["created_at", "2018-12-05 11:28:02.598661"], ["updated_at", "2018-12-05 11:28:02.598661"]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user3@test.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user3"], ["email", "user3@test.com"], ["password_digest", "$2a$10$/UHLU8Rrnqod0VaT4o3vMOh3VcYK6tpNa91VcnWOTT98uGhKk57EW"], ["role", 2], ["sex", "female"], ["phonenumber", "313.128.3073"], ["status", "agriculturist"], ["created_at", "2018-12-05 11:28:02.651513"], ["updated_at", "2018-12-05 11:28:02.651513"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user4@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user4"], ["email", "user4@test.com"], ["password_digest", "$2a$10$IAVCIwCOs47BYR17JDedVOkKcAt3vO5UZg.rEqxrynYzLZSL1X65q"], ["role", 4], ["sex", "female"], ["phonenumber", "605.790.1625 x42068"], ["status", "judge"], ["created_at", "2018-12-05 11:28:02.699462"], ["updated_at", "2018-12-05 11:28:02.699462"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user5@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user5"], ["email", "user5@test.com"], ["password_digest", "$2a$10$E9Awnm1uOojQKrrjF/0oMuYWCML/qUrLr.g02XvRC80sY9gxSH7Jy"], ["role", 3], ["sex", "female"], ["phonenumber", "1-222-071-0470"], ["status", "doctor"], ["created_at", "2018-12-05 11:28:02.754911"], ["updated_at", "2018-12-05 11:28:02.754911"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user6@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user6"], ["email", "user6@test.com"], ["password_digest", "$2a$10$037YyUpDVKGjwN2B8pWiheWanbKX6zJ7ZAKNlm5J5O0fjJPRWfM/."], ["role", 1], ["sex", "male"], ["phonenumber", "1-213-020-3542 x23294"], ["status", "interpreter"], ["created_at", "2018-12-05 11:28:02.818358"], ["updated_at", "2018-12-05 11:28:02.818358"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user7@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user7"], ["email", "user7@test.com"], ["password_digest", "$2a$10$mQsQtwsNiG407lwWxctCye556sLvsJOjZp37/Bt2BFdjP3UKSVDs."], ["role", 4], ["sex", "male"], ["phonenumber", "341-514-7807 x47488"], ["status", "astronomer"], ["created_at", "2018-12-05 11:28:02.875637"], ["updated_at", "2018-12-05 11:28:02.875637"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user8@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user8"], ["email", "user8@test.com"], ["password_digest", "$2a$10$/eGbRMJdWz6Ktboa9JK8DeMOBiaMuagj8/.0INf3lFJL91wWagdg6"], ["role", 2], ["sex", "male"], ["phonenumber", "735-301-8400"], ["status", "statistician"], ["created_at", "2018-12-05 11:28:02.924783"], ["updated_at", "2018-12-05 11:28:02.924783"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user9@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user9"], ["email", "user9@test.com"], ["password_digest", "$2a$10$Fo91xIB2Nxfz1EaYgwsbJek030mAbA0snc8hp8dn/sd..jqfdIodi"], ["role", 2], ["sex", "male"], ["phonenumber", "246-276-3371 x374"], ["status", "astronomer"], ["created_at", "2018-12-05 11:28:02.972303"], ["updated_at", "2018-12-05 11:28:02.972303"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user10@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user10"], ["email", "user10@test.com"], ["password_digest", "$2a$10$DTDP58zqbaDjuri5i54n.uAXjrMoNwW5e6rRZATiGv3G3RgW9OyX6"], ["role", 2], ["sex", "female"], ["phonenumber", "1-372-178-5929 x6472"], ["status", "philosopher"], ["created_at", "2018-12-05 11:28:03.028322"], ["updated_at", "2018-12-05 11:28:03.028322"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user11@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user11"], ["email", "user11@test.com"], ["password_digest", "$2a$10$LkkckzcEXrcAgkDl/Z48bOHip65avOg6MTM4rfhoUCxBwKSQ2LIny"], ["role", 4], ["sex", "male"], ["phonenumber", "(320) 887-9660 x36208"], ["status", "web developer"], ["created_at", "2018-12-05 11:28:03.084775"], ["updated_at", "2018-12-05 11:28:03.084775"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user12@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user12"], ["email", "user12@test.com"], ["password_digest", "$2a$10$.uySQgg9F9UzFCGFh2gYrOkEbq2ic69snS9EuCmFUHr5UWwVl/Cmu"], ["role", 3], ["sex", "male"], ["phonenumber", "366.439.1695 x3230"], ["status", "police officer"], ["created_at", "2018-12-05 11:28:03.133473"], ["updated_at", "2018-12-05 11:28:03.133473"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user13@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user13"], ["email", "user13@test.com"], ["password_digest", "$2a$10$KUFxeM2zfkVhwO8XUFV4/er3meyLU12Lyw0pQE8nBzTN1kGbmYDgK"], ["role", 3], ["sex", "male"], ["phonenumber", "(914) 315-4176"], ["status", "librarian"], ["created_at", "2018-12-05 11:28:03.181076"], ["updated_at", "2018-12-05 11:28:03.181076"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user14@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user14"], ["email", "user14@test.com"], ["password_digest", "$2a$10$DIcvcMa9A/MVbKbpJ84UDOSUfKaS6hAiDH73qoCwy6GPuAJs2.jK."], ["role", 4], ["sex", "male"], ["phonenumber", "(623) 194-9074 x5883"], ["status", "judge"], ["created_at", "2018-12-05 11:28:03.236208"], ["updated_at", "2018-12-05 11:28:03.236208"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user15@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user15"], ["email", "user15@test.com"], ["password_digest", "$2a$10$HRVfsrsB.ALms.sQOTlgKeUJQzX68sB2pgCPVQqoFlAqVk6V9ApDC"], ["role", 3], ["sex", "male"], ["phonenumber", "(789) 689-8673 x1150"], ["status", "advocate"], ["created_at", "2018-12-05 11:28:03.292978"], ["updated_at", "2018-12-05 11:28:03.292978"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user16@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user16"], ["email", "user16@test.com"], ["password_digest", "$2a$10$tQEAdUoeMnHCyeFiknP/1.S910tXxBLL9ro3ww0kHSak.pRhGwlCy"], ["role", 3], ["sex", "male"], ["phonenumber", "827-339-3541 x550"], ["status", "judge"], ["created_at", "2018-12-05 11:28:03.350178"], ["updated_at", "2018-12-05 11:28:03.350178"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user17@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user17"], ["email", "user17@test.com"], ["password_digest", "$2a$10$uybed8UHGy/DtbWxbM49lOE3fHNdERjtIaazJnU4NFyQz7iYH4W6e"], ["role", 2], ["sex", "female"], ["phonenumber", "(730) 514-4153"], ["status", "biologist"], ["created_at", "2018-12-05 11:28:03.399869"], ["updated_at", "2018-12-05 11:28:03.399869"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user18@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user18"], ["email", "user18@test.com"], ["password_digest", "$2a$10$i19rwuc5rUtWvUGrUj5cIO4iQ7rVZdnHN6OiUGuFSUvlvIBqov/Ee"], ["role", 3], ["sex", "female"], ["phonenumber", "1-231-691-7385 x188"], ["status", "interpreter"], ["created_at", "2018-12-05 11:28:03.456940"], ["updated_at", "2018-12-05 11:28:03.456940"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user19@test.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user19"], ["email", "user19@test.com"], ["password_digest", "$2a$10$sidYrg5SyWmecj7r10lsW.vg5npwSRo1miimSO5Z4lPd753OTJY56"], ["role", 1], ["sex", "male"], ["phonenumber", "(948) 290-9310 x72041"], ["status", "human resources"], ["created_at", "2018-12-05 11:28:03.513607"], ["updated_at", "2018-12-05 11:28:03.513607"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user20@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user20"], ["email", "user20@test.com"], ["password_digest", "$2a$10$l57pLD2b13WoNMcW/JZBDegsHPwMYWHUmDki9/U2vUZ7Kx334OYnO"], ["role", 4], ["sex", "male"], ["phonenumber", "326-089-6003 x4937"], ["status", "teacher"], ["created_at", "2018-12-05 11:28:03.563269"], ["updated_at", "2018-12-05 11:28:03.563269"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user21@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user21"], ["email", "user21@test.com"], ["password_digest", "$2a$10$qagy3vZMyWROAKX/4/c3L.oy3i4fKfqGUrtXEbqjWUiWJkObw665a"], ["role", 1], ["sex", "female"], ["phonenumber", "713-009-4124 x0958"], ["status", "chemist"], ["created_at", "2018-12-05 11:28:03.618180"], ["updated_at", "2018-12-05 11:28:03.618180"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user22@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user22"], ["email", "user22@test.com"], ["password_digest", "$2a$10$MWApy4ffr81x.QXmGGcgZeOjtJCffaAeHpa.v3R2CuX785A/VIreK"], ["role", 1], ["sex", "female"], ["phonenumber", "959-003-0097 x26631"], ["status", "agriculturist"], ["created_at", "2018-12-05 11:28:03.675213"], ["updated_at", "2018-12-05 11:28:03.675213"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user23@test.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user23"], ["email", "user23@test.com"], ["password_digest", "$2a$10$Y3ZDuukEH9wdBrbtRRGJJORVRCae1xMQGQi7uhmANnqJtjRi2Zzza"], ["role", 3], ["sex", "male"], ["phonenumber", "334.772.7758"], ["status", "astronomer"], ["created_at", "2018-12-05 11:28:03.724574"], ["updated_at", "2018-12-05 11:28:03.724574"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user24@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user24"], ["email", "user24@test.com"], ["password_digest", "$2a$10$VQbgi6UiKRMVwYiDRzj2tu9qXbX/o7Eo1xp9xIMVZn4JWHI/4kqve"], ["role", 2], ["sex", "male"], ["phonenumber", "(441) 471-5624 x82048"], ["status", "physicist"], ["created_at", "2018-12-05 11:28:03.772423"], ["updated_at", "2018-12-05 11:28:03.772423"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user25@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user25"], ["email", "user25@test.com"], ["password_digest", "$2a$10$.7C0Rx3AZ5.sU5SaEb/AJebiI43J4vgE0FiWSuGmaMH65OpvZbYmO"], ["role", 2], ["sex", "male"], ["phonenumber", "1-142-741-3175 x6710"], ["status", "engineer"], ["created_at", "2018-12-05 11:28:03.820130"], ["updated_at", "2018-12-05 11:28:03.820130"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user26@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user26"], ["email", "user26@test.com"], ["password_digest", "$2a$10$M9wFDAdG.YOzTkvvTL54f.T2O.MLBX38vRZnUhfnQcvKwf4BfTQ4S"], ["role", 1], ["sex", "male"], ["phonenumber", "448-992-7931 x611"], ["status", "programmer"], ["created_at", "2018-12-05 11:28:03.880970"], ["updated_at", "2018-12-05 11:28:03.880970"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user27@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user27"], ["email", "user27@test.com"], ["password_digest", "$2a$10$5hbRxlfj/ZQ.Ia/VoPYdQ.VkOlIsfO83nraWHuhL6FQmQ52RFWZ26"], ["role", 3], ["sex", "male"], ["phonenumber", "705.529.1970 x34083"], ["status", "police officer"], ["created_at", "2018-12-05 11:28:03.937711"], ["updated_at", "2018-12-05 11:28:03.937711"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user28@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user28"], ["email", "user28@test.com"], ["password_digest", "$2a$10$KDEFJf/Xu91at7vpdIJYVOPg87corukEEv4aq2oqlO0Xql3zo9dM6"], ["role", 1], ["sex", "female"], ["phonenumber", "1-115-325-2972"], ["status", "philosopher"], ["created_at", "2018-12-05 11:28:03.986314"], ["updated_at", "2018-12-05 11:28:03.986314"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user29@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user29"], ["email", "user29@test.com"], ["password_digest", "$2a$10$XuazilK92F.1YwYopuvgluPnt0M9gIpxkLBsYzH70lcbSm4gcpA7W"], ["role", 1], ["sex", "male"], ["phonenumber", "113-047-1508 x404"], ["status", "agriculturist"], ["created_at", "2018-12-05 11:28:04.034274"], ["updated_at", "2018-12-05 11:28:04.034274"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user30@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user30"], ["email", "user30@test.com"], ["password_digest", "$2a$10$irGFNLEe/hMwN9FZldh0bOTvx18rPH4mzL/btId01tYAO8R2rVkPC"], ["role", 1], ["sex", "female"], ["phonenumber", "217.320.4385 x8021"], ["status", "attorney at law"], ["created_at", "2018-12-05 11:28:04.090308"], ["updated_at", "2018-12-05 11:28:04.090308"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user31@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user31"], ["email", "user31@test.com"], ["password_digest", "$2a$10$H5YLCLaJUYCFQQudOR/5OOhysJQqWg3tALYlO6A4jXGOucvGN3lI2"], ["role", 4], ["sex", "female"], ["phonenumber", "(398) 685-2888"], ["status", "physicist"], ["created_at", "2018-12-05 11:28:04.147577"], ["updated_at", "2018-12-05 11:28:04.147577"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user32@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user32"], ["email", "user32@test.com"], ["password_digest", "$2a$10$7z79OuO0mHddUUx3i4rYxOzBnGFeGnhV2RE6N4dr6pOURGWxZRnX."], ["role", 1], ["sex", "male"], ["phonenumber", "(299) 606-0483"], ["status", "actor"], ["created_at", "2018-12-05 11:28:04.197133"], ["updated_at", "2018-12-05 11:28:04.197133"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user33@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user33"], ["email", "user33@test.com"], ["password_digest", "$2a$10$IonUDIlVnE0BXa81MFCTYubRCJw/vSHoyZvk4P/lnKSYVWzjzwRoe"], ["role", 4], ["sex", "female"], ["phonenumber", "527-726-0486 x5892"], ["status", "statistician"], ["created_at", "2018-12-05 11:28:04.245324"], ["updated_at", "2018-12-05 11:28:04.245324"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user34@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user34"], ["email", "user34@test.com"], ["password_digest", "$2a$10$d9usDID4GMB4E75buINd3ew3QaQoKLc837FUTTZeS5Af2opcVyu8."], ["role", 3], ["sex", "male"], ["phonenumber", "1-706-924-8384 x0300"], ["status", "chemist"], ["created_at", "2018-12-05 11:28:04.292913"], ["updated_at", "2018-12-05 11:28:04.292913"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user35@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user35"], ["email", "user35@test.com"], ["password_digest", "$2a$10$lKJd8kGYKSfRBmkhrO7Zq.ojtG2ZEY8ZYwpR/TSKqDBEIcjBz71J6"], ["role", 4], ["sex", "male"], ["phonenumber", "960.279.5856 x219"], ["status", "statistician"], ["created_at", "2018-12-05 11:28:04.340450"], ["updated_at", "2018-12-05 11:28:04.340450"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user36@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user36"], ["email", "user36@test.com"], ["password_digest", "$2a$10$bTLgwerNgA2ppY61nhABuuSNzuo6la8OIzEQkRThBK2wg.9rcXbD2"], ["role", 3], ["sex", "female"], ["phonenumber", "524-935-9203"], ["status", "interpreter"], ["created_at", "2018-12-05 11:28:04.397786"], ["updated_at", "2018-12-05 11:28:04.397786"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user37@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user37"], ["email", "user37@test.com"], ["password_digest", "$2a$10$w1oqnBv6L8CXM9B8JRXV.uRo6Ghy/283/1u5oOmz1Qe0l6A6Arzia"], ["role", 2], ["sex", "female"], ["phonenumber", "(898) 493-5876"], ["status", "astronomer"], ["created_at", "2018-12-05 11:28:04.447072"], ["updated_at", "2018-12-05 11:28:04.447072"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user38@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user38"], ["email", "user38@test.com"], ["password_digest", "$2a$10$lYKTIAaSN6AnUQQkeuCuzOawQEUxT8UP7QD9xI5UuN73RZEacO5E6"], ["role", 1], ["sex", "female"], ["phonenumber", "265-408-6639"], ["status", "programmer"], ["created_at", "2018-12-05 11:28:04.494559"], ["updated_at", "2018-12-05 11:28:04.494559"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user39@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user39"], ["email", "user39@test.com"], ["password_digest", "$2a$10$LWlr.VagyjahjnvqLbPluO5cKKlGL2xmqYHLCusH/jk5Tmiu7UAs6"], ["role", 1], ["sex", "female"], ["phonenumber", "1-624-614-0705 x36094"], ["status", "agriculturist"], ["created_at", "2018-12-05 11:28:04.542517"], ["updated_at", "2018-12-05 11:28:04.542517"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user40@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user40"], ["email", "user40@test.com"], ["password_digest", "$2a$10$03SjgzcWpML43gbPr5Fyae4uTeGsGCz9I7jRhcOtb4UK0xCPI9yBS"], ["role", 2], ["sex", "male"], ["phonenumber", "(192) 914-9985"], ["status", "attorney at law"], ["created_at", "2018-12-05 11:28:04.598797"], ["updated_at", "2018-12-05 11:28:04.598797"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user41@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user41"], ["email", "user41@test.com"], ["password_digest", "$2a$10$2kA59HXuFwZFnuwqrPCHRusYe/ZjOwKFXGyv08.XLMmLKeAK3uLVK"], ["role", 4], ["sex", "female"], ["phonenumber", "552.528.6718 x86949"], ["status", "agriculturist"], ["created_at", "2018-12-05 11:28:04.655827"], ["updated_at", "2018-12-05 11:28:04.655827"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user42@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user42"], ["email", "user42@test.com"], ["password_digest", "$2a$10$xvvzU/hqWo5XcfBFKzvl3.2hHs3Eza1kOgArSaPMNITwhW.BgOW2u"], ["role", 1], ["sex", "male"], ["phonenumber", "1-257-255-2329 x91447"], ["status", "judge"], ["created_at", "2018-12-05 11:28:04.705014"], ["updated_at", "2018-12-05 11:28:04.705014"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user43@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user43"], ["email", "user43@test.com"], ["password_digest", "$2a$10$QruJD1b8famo1pesUG13X.c4mR0VuUf8C4uhstZS8MnPeRLXiDuDy"], ["role", 2], ["sex", "male"], ["phonenumber", "916-426-7565"], ["status", "philosopher"], ["created_at", "2018-12-05 11:28:04.752861"], ["updated_at", "2018-12-05 11:28:04.752861"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user44@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user44"], ["email", "user44@test.com"], ["password_digest", "$2a$10$TxACTNo5/7JIqfEIZV.7oOJj1TgOfRRk6v0Q7whcWNlRggeG2nCR6"], ["role", 4], ["sex", "male"], ["phonenumber", "(327) 352-1048 x524"], ["status", "philosopher"], ["created_at", "2018-12-05 11:28:04.813448"], ["updated_at", "2018-12-05 11:28:04.813448"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user45@test.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user45"], ["email", "user45@test.com"], ["password_digest", "$2a$10$LLveVhrE31IH/o9Clqeco.qDqHavOlCPhcYBYtVDsWD2Z2yWnyOES"], ["role", 3], ["sex", "female"], ["phonenumber", "134.902.8036"], ["status", "librarian"], ["created_at", "2018-12-05 11:28:04.871417"], ["updated_at", "2018-12-05 11:28:04.871417"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user46@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user46"], ["email", "user46@test.com"], ["password_digest", "$2a$10$sDKLrRYt.epqEba0p.A/y.Q1MbT14JTn1i5COLPtTz8DBhqgyVbx6"], ["role", 3], ["sex", "male"], ["phonenumber", "1-455-606-8008 x2244"], ["status", "firefighter"], ["created_at", "2018-12-05 11:28:04.920604"], ["updated_at", "2018-12-05 11:28:04.920604"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user47@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user47"], ["email", "user47@test.com"], ["password_digest", "$2a$10$Bt5sT0SnbeCAHPao9RLYZ.07JzpcdLIULVx5kP31KRGRKDdSkUyBK"], ["role", 2], ["sex", "male"], ["phonenumber", "1-597-398-5470"], ["status", "advocate"], ["created_at", "2018-12-05 11:28:04.968107"], ["updated_at", "2018-12-05 11:28:04.968107"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user48@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user48"], ["email", "user48@test.com"], ["password_digest", "$2a$10$iknmlbqRXipUhy2cRXlsauwUeQAwSams3b5HjVxDqXr3tNmjXppEm"], ["role", 4], ["sex", "female"], ["phonenumber", "633.067.2375 x862"], ["status", "police officer"], ["created_at", "2018-12-05 11:28:05.015708"], ["updated_at", "2018-12-05 11:28:05.015708"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user49@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user49"], ["email", "user49@test.com"], ["password_digest", "$2a$10$au5KY9qs8e0haahBYOzyUe8NwZW1BSfw8xYAuihyWQJieHCAwdvEK"], ["role", 1], ["sex", "female"], ["phonenumber", "766-203-2028"], ["status", "firefighter"], ["created_at", "2018-12-05 11:28:05.063379"], ["updated_at", "2018-12-05 11:28:05.063379"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user50@test.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user50"], ["email", "user50@test.com"], ["password_digest", "$2a$10$Ar.I4ycib3NPu5us.nQT/u97wqccBcmiOGmI8c5FlAhj.VqPZaYLO"], ["role", 2], ["sex", "female"], ["phonenumber", "690.322.4514"], ["status", "designer"], ["created_at", "2018-12-05 11:28:05.111202"], ["updated_at", "2018-12-05 11:28:05.111202"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user51@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user51"], ["email", "user51@test.com"], ["password_digest", "$2a$10$GtPV2CKykIMKr4nXZub2.OOc6Vm6cneEauIUUipqypcC5VmKL6k7u"], ["role", 1], ["sex", "female"], ["phonenumber", "832-751-7069 x05377"], ["status", "astronomer"], ["created_at", "2018-12-05 11:28:05.163313"], ["updated_at", "2018-12-05 11:28:05.163313"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user52@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user52"], ["email", "user52@test.com"], ["password_digest", "$2a$10$jAL3gzlJXU0KQ521tJJCGedVkqYzuB8lyISOyIlH1xWNkeXujquta"], ["role", 4], ["sex", "male"], ["phonenumber", "1-749-578-3526 x2027"], ["status", "doctor"], ["created_at", "2018-12-05 11:28:05.211787"], ["updated_at", "2018-12-05 11:28:05.211787"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user53@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user53"], ["email", "user53@test.com"], ["password_digest", "$2a$10$F5kwHqQbu0/OiHYTZN9aVOKoSbMh71gL3FXSEONvu1tcvOl.Z1Kj6"], ["role", 3], ["sex", "female"], ["phonenumber", "1-838-525-3747 x15812"], ["status", "doctor"], ["created_at", "2018-12-05 11:28:05.267483"], ["updated_at", "2018-12-05 11:28:05.267483"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user54@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user54"], ["email", "user54@test.com"], ["password_digest", "$2a$10$ldD6Nv9eC.7vsuaccaSJquuH0yXpbaUTkQR79y4MHAO5C8e2ij8w2"], ["role", 1], ["sex", "male"], ["phonenumber", "406-590-7257"], ["status", "designer"], ["created_at", "2018-12-05 11:28:05.320071"], ["updated_at", "2018-12-05 11:28:05.320071"]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user55@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user55"], ["email", "user55@test.com"], ["password_digest", "$2a$10$XTMMVOWieWiIVAA6Ttk2BuinsgOF.gFY6N4D9Usnl5NSKeeTC4HNe"], ["role", 2], ["sex", "male"], ["phonenumber", "908-618-0269 x17983"], ["status", "advocate"], ["created_at", "2018-12-05 11:28:05.372895"], ["updated_at", "2018-12-05 11:28:05.372895"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user56@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user56"], ["email", "user56@test.com"], ["password_digest", "$2a$10$QiEOg7pul3Qg41423YnZN.WH0iJCi4YXhz/5mnahu22P.OwZhGAK."], ["role", 3], ["sex", "male"], ["phonenumber", "663-992-9109"], ["status", "astronomer"], ["created_at", "2018-12-05 11:28:05.429601"], ["updated_at", "2018-12-05 11:28:05.429601"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user57@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user57"], ["email", "user57@test.com"], ["password_digest", "$2a$10$JWbNa72Tx098S6asgzt76OfTDaT/7Nq05ORaHOSZX4r6U69j/.ezm"], ["role", 3], ["sex", "female"], ["phonenumber", "186.191.2181"], ["status", "programmer"], ["created_at", "2018-12-05 11:28:05.486269"], ["updated_at", "2018-12-05 11:28:05.486269"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user58@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user58"], ["email", "user58@test.com"], ["password_digest", "$2a$10$xtPzv3yZEJ0lGFDb7bZDVOXScdDK7DC.34d4e0REG.BgfbqDscjU6"], ["role", 4], ["sex", "female"], ["phonenumber", "(297) 415-8772 x81810"], ["status", "architect"], ["created_at", "2018-12-05 11:28:05.535102"], ["updated_at", "2018-12-05 11:28:05.535102"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user59@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user59"], ["email", "user59@test.com"], ["password_digest", "$2a$10$eZEoFHPMDEoYz1qDFTbTi.5CFfVBn9Qo04FvY5ecXJgoSpq7ldwL2"], ["role", 3], ["sex", "male"], ["phonenumber", "(642) 602-7357"], ["status", "biologist"], ["created_at", "2018-12-05 11:28:05.583540"], ["updated_at", "2018-12-05 11:28:05.583540"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user60@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user60"], ["email", "user60@test.com"], ["password_digest", "$2a$10$cn5TxKxoenNGAfqsYLKP7OS5IFzCMZ5K4Vq/jhVK6v0DInkzUqFom"], ["role", 2], ["sex", "male"], ["phonenumber", "1-450-995-0095 x58094"], ["status", "physicist"], ["created_at", "2018-12-05 11:28:05.639649"], ["updated_at", "2018-12-05 11:28:05.639649"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user61@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user61"], ["email", "user61@test.com"], ["password_digest", "$2a$10$GZzyeu291B842.PP7MnFlefG6/3zPIrCu4EwkIvoG9OSc1KChzoVu"], ["role", 4], ["sex", "female"], ["phonenumber", "1-613-956-0101 x2318"], ["status", "librarian"], ["created_at", "2018-12-05 11:28:05.696035"], ["updated_at", "2018-12-05 11:28:05.696035"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user62@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user62"], ["email", "user62@test.com"], ["password_digest", "$2a$10$j0bgSF/dIPeCjc903RCZF.i6hnL.93wJezI34gpv9RXdzMLkns3Yq"], ["role", 4], ["sex", "female"], ["phonenumber", "838-045-2909 x2639"], ["status", "advocate"], ["created_at", "2018-12-05 11:28:05.749186"], ["updated_at", "2018-12-05 11:28:05.749186"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user63@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user63"], ["email", "user63@test.com"], ["password_digest", "$2a$10$5CMV8BoRKv7Q3SZYQdAAsOJjJV6WzuU1XCYM7KaH1Ej0zHeywqY6e"], ["role", 4], ["sex", "female"], ["phonenumber", "(405) 040-8122 x6782"], ["status", "architect"], ["created_at", "2018-12-05 11:28:05.802593"], ["updated_at", "2018-12-05 11:28:05.802593"]]
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user64@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user64"], ["email", "user64@test.com"], ["password_digest", "$2a$10$RaE1GFqxSy1IQlJEKpwiheQWN2/pV/VshYwlGWwTO4hPq438gTH/u"], ["role", 1], ["sex", "male"], ["phonenumber", "1-501-597-7625 x0811"], ["status", "teacher"], ["created_at", "2018-12-05 11:28:05.861536"], ["updated_at", "2018-12-05 11:28:05.861536"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user65@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user65"], ["email", "user65@test.com"], ["password_digest", "$2a$10$qW2iGmfC0UDjmXxGWELkAOoPZMZJEfg5jA3k8Kj7DEvbnzBMo70OO"], ["role", 2], ["sex", "female"], ["phonenumber", "359.855.9279 x72808"], ["status", "judge"], ["created_at", "2018-12-05 11:28:05.918303"], ["updated_at", "2018-12-05 11:28:05.918303"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user66@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user66"], ["email", "user66@test.com"], ["password_digest", "$2a$10$ZsgLHbJMLoMOpCcE9nt0D..wxMced8RHKI5/Wxk2Fr9Z52IirSUvq"], ["role", 3], ["sex", "female"], ["phonenumber", "438.055.2718 x00228"], ["status", "human resources"], ["created_at", "2018-12-05 11:28:05.967968"], ["updated_at", "2018-12-05 11:28:05.967968"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user67@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user67"], ["email", "user67@test.com"], ["password_digest", "$2a$10$OXU01RbJowb3hoNdFpe.cu4h69bTOQSz27RMhRDPfaTy5aAMIOtk."], ["role", 4], ["sex", "male"], ["phonenumber", "819.477.0816 x166"], ["status", "architect"], ["created_at", "2018-12-05 11:28:06.023584"], ["updated_at", "2018-12-05 11:28:06.023584"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user68@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user68"], ["email", "user68@test.com"], ["password_digest", "$2a$10$fshSMjP3JTC.S7QcMwd8juoamZEcPTGhQV1tcfwc8QVPRooJRhJ1m"], ["role", 1], ["sex", "male"], ["phonenumber", "(676) 407-3446 x82328"], ["status", "librarian"], ["created_at", "2018-12-05 11:28:06.080553"], ["updated_at", "2018-12-05 11:28:06.080553"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user69@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user69"], ["email", "user69@test.com"], ["password_digest", "$2a$10$nCar4tEkC/GAoGBCB2JTK.PLhPGNq4QiolhzyphSYtvwFtcrDLmCq"], ["role", 3], ["sex", "male"], ["phonenumber", "(893) 909-1222"], ["status", "physicist"], ["created_at", "2018-12-05 11:28:06.137980"], ["updated_at", "2018-12-05 11:28:06.137980"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user70@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user70"], ["email", "user70@test.com"], ["password_digest", "$2a$10$IwUKkrmb2oWz/R7MpxZ2guq740Oj7kavaDwIw27QMzPz50nKJvPqK"], ["role", 4], ["sex", "male"], ["phonenumber", "1-447-743-1005"], ["status", "police officer"], ["created_at", "2018-12-05 11:28:06.195866"], ["updated_at", "2018-12-05 11:28:06.195866"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user71@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user71"], ["email", "user71@test.com"], ["password_digest", "$2a$10$sIcI3/biTXwys4cPY.cW4Oq36lZeaWcyhGDkFDop8cBbgFtsvtG4W"], ["role", 2], ["sex", "male"], ["phonenumber", "(533) 769-7111"], ["status", "statistician"], ["created_at", "2018-12-05 11:28:06.253865"], ["updated_at", "2018-12-05 11:28:06.253865"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user72@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user72"], ["email", "user72@test.com"], ["password_digest", "$2a$10$302n.terGxYLbQteArLC1eHBs4BfdLaPq6GlutYsXScgAmvjviSp."], ["role", 3], ["sex", "female"], ["phonenumber", "314.717.3942 x152"], ["status", "physicist"], ["created_at", "2018-12-05 11:28:06.310421"], ["updated_at", "2018-12-05 11:28:06.310421"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user73@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user73"], ["email", "user73@test.com"], ["password_digest", "$2a$10$4OrsJRtDaT8wv3.QEBoHeuOrbqcYqLdWes8jHOxvFGZrjMRSDJDpS"], ["role", 2], ["sex", "male"], ["phonenumber", "208.499.3161 x291"], ["status", "physicist"], ["created_at", "2018-12-05 11:28:06.359803"], ["updated_at", "2018-12-05 11:28:06.359803"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user74@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user74"], ["email", "user74@test.com"], ["password_digest", "$2a$10$pj2rn.2zREJOPG4kspePmebslPu4YW81dktsEkYAvZnycIW0i73pG"], ["role", 3], ["sex", "female"], ["phonenumber", "869-203-9927 x1228"], ["status", "actor"], ["created_at", "2018-12-05 11:28:06.408229"], ["updated_at", "2018-12-05 11:28:06.408229"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user75@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user75"], ["email", "user75@test.com"], ["password_digest", "$2a$10$X1C9iY/Vmx1Nqh.zdn9VXOK4I3zTFOCYxBkS68NHmFHAp8w76Emle"], ["role", 1], ["sex", "male"], ["phonenumber", "(660) 773-9361"], ["status", "web developer"], ["created_at", "2018-12-05 11:28:06.463436"], ["updated_at", "2018-12-05 11:28:06.463436"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user76@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user76"], ["email", "user76@test.com"], ["password_digest", "$2a$10$FEAt7StW6KLcm9bs5K4QJOzfDbi5diV09SWzIl4J0MZc/b6rZW0a2"], ["role", 3], ["sex", "male"], ["phonenumber", "445-653-5373 x79205"], ["status", "judge"], ["created_at", "2018-12-05 11:28:06.511823"], ["updated_at", "2018-12-05 11:28:06.511823"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user77@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user77"], ["email", "user77@test.com"], ["password_digest", "$2a$10$JI6ktynSCdbyH/tLy9JjfetRbVESqt6CwLyZWfF6R0Ua4BGusIjkm"], ["role", 2], ["sex", "female"], ["phonenumber", "223-828-0200"], ["status", "programmer"], ["created_at", "2018-12-05 11:28:06.562297"], ["updated_at", "2018-12-05 11:28:06.562297"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user78@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user78"], ["email", "user78@test.com"], ["password_digest", "$2a$10$bw9CcRyVZkb5e2qsMsi4HO6Bqv0252xbYekHpCAdkkC7x5y/k6So."], ["role", 4], ["sex", "male"], ["phonenumber", "(964) 869-5895"], ["status", "architect"], ["created_at", "2018-12-05 11:28:06.617265"], ["updated_at", "2018-12-05 11:28:06.617265"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user79@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user79"], ["email", "user79@test.com"], ["password_digest", "$2a$10$NgXtvAcI6H7VOtHGxbLYZOrlhM.0K7pchYa/nVkJ3RBH6cBbbCm.."], ["role", 4], ["sex", "female"], ["phonenumber", "1-223-495-9886 x00950"], ["status", "engineer"], ["created_at", "2018-12-05 11:28:06.682861"], ["updated_at", "2018-12-05 11:28:06.682861"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user80@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user80"], ["email", "user80@test.com"], ["password_digest", "$2a$10$qA2DpcabqWg02kDwnJlTvOi1gUSlAWXgrJUQqnGKCwb0LKJ1WItfy"], ["role", 4], ["sex", "female"], ["phonenumber", "(839) 965-9168 x78607"], ["status", "musician"], ["created_at", "2018-12-05 11:28:06.740649"], ["updated_at", "2018-12-05 11:28:06.740649"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user81@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user81"], ["email", "user81@test.com"], ["password_digest", "$2a$10$.Tk.xSamu9mham9wK22ciepKkRe.ra5BSt8V4My5dm7hbenhielr."], ["role", 4], ["sex", "male"], ["phonenumber", "319-078-8960 x14111"], ["status", "astronomer"], ["created_at", "2018-12-05 11:28:06.797403"], ["updated_at", "2018-12-05 11:28:06.797403"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user82@test.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user82"], ["email", "user82@test.com"], ["password_digest", "$2a$10$GS2z.ZhIg2rhsWXn83xwxOnDiVIOXP7MSHS.Kiq//lfks33jpiSpS"], ["role", 3], ["sex", "female"], ["phonenumber", "571-970-4973"], ["status", "musician"], ["created_at", "2018-12-05 11:28:06.847839"], ["updated_at", "2018-12-05 11:28:06.847839"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user83@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user83"], ["email", "user83@test.com"], ["password_digest", "$2a$10$kMuSETGb8YpxkzsQeooBiuMg0EvEOW2c55CxTqci6zha6qwz1xVti"], ["role", 3], ["sex", "male"], ["phonenumber", "(734) 851-0562 x3898"], ["status", "biologist"], ["created_at", "2018-12-05 11:28:06.904344"], ["updated_at", "2018-12-05 11:28:06.904344"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user84@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user84"], ["email", "user84@test.com"], ["password_digest", "$2a$10$n0irew2q8v0zB4Rh0ngd8uwAMswtR9tSjCkKipIhi8vgNw0P6dHIK"], ["role", 4], ["sex", "female"], ["phonenumber", "213.596.7471 x448"], ["status", "police officer"], ["created_at", "2018-12-05 11:28:06.953480"], ["updated_at", "2018-12-05 11:28:06.953480"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user85@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user85"], ["email", "user85@test.com"], ["password_digest", "$2a$10$2fxdHOcVTCeUyqZmKyqbnu1Tq1gGwWxNTLT5ipKTXxp9MpF5GDShe"], ["role", 3], ["sex", "male"], ["phonenumber", "210.909.6809"], ["status", "librarian"], ["created_at", "2018-12-05 11:28:07.002132"], ["updated_at", "2018-12-05 11:28:07.002132"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user86@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user86"], ["email", "user86@test.com"], ["password_digest", "$2a$10$Y7ank0DvOTPZ.iG9FTBM8O4PKC.saq0.BhaKTYAByQU1olJULOjby"], ["role", 4], ["sex", "female"], ["phonenumber", "687-855-4262 x25393"], ["status", "economist"], ["created_at", "2018-12-05 11:28:07.050113"], ["updated_at", "2018-12-05 11:28:07.050113"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user87@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user87"], ["email", "user87@test.com"], ["password_digest", "$2a$10$3hFiHzjfouexMOivC097C.Uddz8yQKU4pYzkNE/U/zMwyHK/u1VhC"], ["role", 2], ["sex", "female"], ["phonenumber", "637.347.4952 x95177"], ["status", "biologist"], ["created_at", "2018-12-05 11:28:07.106182"], ["updated_at", "2018-12-05 11:28:07.106182"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user88@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user88"], ["email", "user88@test.com"], ["password_digest", "$2a$10$NuiTLU4gW2yuUyoIPSRtleJdmL3mp0U.AFCkDAOyP9HIirghFl0ga"], ["role", 2], ["sex", "female"], ["phonenumber", "202.180.9385 x996"], ["status", "statistician"], ["created_at", "2018-12-05 11:28:07.155761"], ["updated_at", "2018-12-05 11:28:07.155761"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user89@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user89"], ["email", "user89@test.com"], ["password_digest", "$2a$10$ZQBrPzbS5h5UIc3K0bLXXetptAYcC89U1D/qXx4lt6VcHW.QwTT86"], ["role", 3], ["sex", "male"], ["phonenumber", "531.030.0145 x400"], ["status", "designer"], ["created_at", "2018-12-05 11:28:07.211918"], ["updated_at", "2018-12-05 11:28:07.211918"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user90@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user90"], ["email", "user90@test.com"], ["password_digest", "$2a$10$dNkSqlbqzzx/UGa1Li3.PuVkDLZ9xQz30BM6ucc7xdPVbVFBe1gdO"], ["role", 3], ["sex", "male"], ["phonenumber", "(164) 915-6007 x05549"], ["status", "economist"], ["created_at", "2018-12-05 11:28:07.268419"], ["updated_at", "2018-12-05 11:28:07.268419"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user91@test.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user91"], ["email", "user91@test.com"], ["password_digest", "$2a$10$rK6SOH8p9PrEaIR859zbAu/2idJ/JHrOyNNqb.IeHYrdduybCsdYi"], ["role", 1], ["sex", "male"], ["phonenumber", "989.194.7551"], ["status", "accountant"], ["created_at", "2018-12-05 11:28:07.322390"], ["updated_at", "2018-12-05 11:28:07.322390"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user92@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user92"], ["email", "user92@test.com"], ["password_digest", "$2a$10$PySQNzwACRUPoypA0AwZceQzNvuwY7/8Td4nK.5TbIOT26SEb1q4K"], ["role", 2], ["sex", "female"], ["phonenumber", "812.617.0985 x897"], ["status", "teacher"], ["created_at", "2018-12-05 11:28:07.379078"], ["updated_at", "2018-12-05 11:28:07.379078"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user93@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user93"], ["email", "user93@test.com"], ["password_digest", "$2a$10$ZIhQiScU9TD1to1qyyElgObyHqa2WOGwEbLnQFN7s0/C72XL59rFK"], ["role", 4], ["sex", "female"], ["phonenumber", "1-342-612-9660"], ["status", "web developer"], ["created_at", "2018-12-05 11:28:07.427895"], ["updated_at", "2018-12-05 11:28:07.427895"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user94@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user94"], ["email", "user94@test.com"], ["password_digest", "$2a$10$hR4HRXD1GtQaXZztce1YION4tn9c/wPM71.2BQSfCFz560gnuBxfq"], ["role", 1], ["sex", "female"], ["phonenumber", "790.979.5750"], ["status", "agriculturist"], ["created_at", "2018-12-05 11:28:07.475489"], ["updated_at", "2018-12-05 11:28:07.475489"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user95@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user95"], ["email", "user95@test.com"], ["password_digest", "$2a$10$/bIPAbBOjTjRLj1F6qjj9.m.nKSyJmWF4wf/swuY/uObhl9UnnhxO"], ["role", 3], ["sex", "female"], ["phonenumber", "979.772.3154"], ["status", "physicist"], ["created_at", "2018-12-05 11:28:07.531355"], ["updated_at", "2018-12-05 11:28:07.531355"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user96@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user96"], ["email", "user96@test.com"], ["password_digest", "$2a$10$zgDVTtxdGfZXFu8Am.TPwOmlWBnkcWKRJaAgh2b2ePkBDvHA/vD5q"], ["role", 4], ["sex", "female"], ["phonenumber", "1-645-781-9375 x5641"], ["status", "programmer"], ["created_at", "2018-12-05 11:28:07.584371"], ["updated_at", "2018-12-05 11:28:07.584371"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user97@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user97"], ["email", "user97@test.com"], ["password_digest", "$2a$10$/LGEgjJh2lf5SP9yrl7gmOvnBPwG54OG/BIxWnMmQMroPXLXfQMFe"], ["role", 4], ["sex", "male"], ["phonenumber", "920-739-3280 x2365"], ["status", "biologist"], ["created_at", "2018-12-05 11:28:07.634093"], ["updated_at", "2018-12-05 11:28:07.634093"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user98@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user98"], ["email", "user98@test.com"], ["password_digest", "$2a$10$cRCICxNleV4wLcI7OuIVtO9/WmwI/3PwvPgW36ZQLb1Ec9nsRZqOm"], ["role", 2], ["sex", "female"], ["phonenumber", "478-063-0455 x617"], ["status", "police officer"], ["created_at", "2018-12-05 11:28:07.689638"], ["updated_at", "2018-12-05 11:28:07.689638"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user99@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user99"], ["email", "user99@test.com"], ["password_digest", "$2a$10$6t5.5BHOdi1y7hw0WEejBOf4uOQL5mi96lECluKQtnYm0jrw92XOy"], ["role", 3], ["sex", "male"], ["phonenumber", "532.601.7133"], ["status", "web developer"], ["created_at", "2018-12-05 11:28:07.738753"], ["updated_at", "2018-12-05 11:28:07.738753"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user100@test.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user100"], ["email", "user100@test.com"], ["password_digest", "$2a$10$k/psup2ARPa1beKg5up05u50eJ1mJDjrpGJ9iq28vNX94eolD2TvC"], ["role", 3], ["sex", "male"], ["phonenumber", "(402) 863-0177"], ["status", "designer"], ["created_at", "2018-12-05 11:28:07.794758"], ["updated_at", "2018-12-05 11:28:07.794758"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 2], ["user_id", 1], ["created_at", "2018-12-05 11:28:07.810886"], ["updated_at", "2018-12-05 11:28:07.810886"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 3], ["user_id", 1], ["created_at", "2018-12-05 11:28:07.813570"], ["updated_at", "2018-12-05 11:28:07.813570"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m


Started GET "/" for 127.0.0.1 at 2018-12-05 19:28:43 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (10.3ms)
  Rendered layouts/_login_panel.html.erb (7.7ms)
  Rendered layouts/_header.html.erb (10.9ms)
  Rendered layouts/_content.html.erb (0.7ms)
Completed 200 OK in 399ms (Views: 377.4ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-05 19:29:06 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"iwsg+iuHl7cW2dD9mjShwLY6kTt9rwLMdxhInHikiGAXJ+LbhpoQoX0Jvl4skEXJS8FI2dgHehB4sY7Jn/LmRQ==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user1@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 101ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 19:29:06 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (1.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.6ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 20:38:48 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (11.1ms)
  Rendered layouts/_login_panel.html.erb (8.5ms)
  Rendered layouts/_header.html.erb (11.8ms)
  Rendered layouts/_content.html.erb (1.0ms)
Completed 200 OK in 410ms (Views: 387.8ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-05 20:39:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A04HsjrP/DgPpMKLTtib3uYxip55n+huXT2WTDrGOpqdoFXJNAZyotkFRAQokjrZ9G/uFZrmEGvE5oi0bbbXvA==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user1@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 102ms (ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 20:39:12 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 48.7ms | ActiveRecord: 0.3ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 20:39:15 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (251.1ms)
  Rendered layouts/_login_panel.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 291ms (Views: 287.9ms | ActiveRecord: 0.5ms)


Started PATCH "/users/1" for 127.0.0.1 at 2018-12-05 20:39:26 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WnX091WezhJt1t4tfVo+gPPJdZX6UxzKcogsPyg97APEm6aMW1dAiLt3WKIbEJ+H4ZcRHhkq5M/rUzLHf00BJQ==", "user"=>{"name"=>"user1", "email"=>"user1@test.com", "password"=>"[FILTERED]", "phonenumber"=>"970.848.2303 x139", "sex"=>"female"}, "commit"=>"更新信息", "id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 13ms (ActiveRecord: 0.6ms)


Started GET "/users" for 127.0.0.1 at 2018-12-05 20:39:26 +0800
Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template users/index, application/index with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder, :haml]}. Searched in:
  * "/Users/zhangyin/git/RailsChat/app/views"
  * "/Library/Ruby/Gems/2.3.0/gems/rails_admin-0.8.1/app/views"
  * "/Library/Ruby/Gems/2.3.0/gems/kaminari-0.16.3/app/views"
):
  actionview (4.2.5.2) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.5.2) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.5.2) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.5.2) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.5.2) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.5.2) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.5.2) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.5.2) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.5.2) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.5.2) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.5.2) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.5.2) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.5.2) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.5.2) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.5.2) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /System/Library/Frameworks/Ruby.framework/Versions/2.3/usr/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
  activesupport (4.2.5.2) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.5.2) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:43:in `render'
  remotipart (1.2.1) lib/remotipart/render_overrides.rb:14:in `render_with_remotipart'
  actionpack (4.2.5.2) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.5.2) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.5.2) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.5.2) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.5.2) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.5.2) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.5.2) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.5.2) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.5.2) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.5.2) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:815:in `call'
  rack-pjax (0.8.0) lib/rack/pjax.rb:12:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  remotipart (1.2.1) lib/remotipart/middleware.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.5.2) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.5.2) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.5.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.5.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.5.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.5.2) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  thin (1.7.0) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.7.0) lib/thin/connection.rb:84:in `catch'
  thin (1.7.0) lib/thin/connection.rb:84:in `pre_process'
  thin (1.7.0) lib/thin/connection.rb:53:in `process'
  thin (1.7.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run_machine'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run'
  thin (1.7.0) lib/thin/backends/base.rb:73:in `start'
  thin (1.7.0) lib/thin/server.rb:162:in `start'
  rack (1.6.5) lib/rack/handler/thin.rb:19:in `run'
  rack (1.6.5) lib/rack/server.rb:286:in `start'
  railties (4.2.5.2) lib/rails/commands/server.rb:80:in `start'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:80:in `block in server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `tap'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:39:in `run_command!'
  railties (4.2.5.2) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (61.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (51.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (115.9ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 20:41:00 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (11.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 53.5ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-05 20:41:11 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.5ms)
  Rendered chats/_navside.html.erb (30.7ms)
  Rendered chats/index.html.erb within layouts/application (32.7ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 105ms (Views: 78.0ms | ActiveRecord: 1.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 20:41:13 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (15.5ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 66ms (Views: 64.1ms | ActiveRecord: 0.3ms)


Started PATCH "/users/1" for 127.0.0.1 at 2018-12-05 20:41:19 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"V4v6em9eTZds3R3u/EkjJBGu6uHBVc+HY12jBf8hNobJZagBYZfDDbp8m2GaA4IjA/COaiIsN4L6hr39qFHboA==", "user"=>{"name"=>"user1", "email"=>"user1@test.com", "password"=>"[FILTERED]", "phonenumber"=>"970.848.2303 x139", "sex"=>"female"}, "commit"=>"更新信息", "id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 11ms (ActiveRecord: 0.3ms)


Started GET "/users" for 127.0.0.1 at 2018-12-05 20:41:19 +0800
Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template users/index, application/index with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder, :haml]}. Searched in:
  * "/Users/zhangyin/git/RailsChat/app/views"
  * "/Library/Ruby/Gems/2.3.0/gems/rails_admin-0.8.1/app/views"
  * "/Library/Ruby/Gems/2.3.0/gems/kaminari-0.16.3/app/views"
):
  actionview (4.2.5.2) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.5.2) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.5.2) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.5.2) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.5.2) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.5.2) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.5.2) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.5.2) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.5.2) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.5.2) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.5.2) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.5.2) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.5.2) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.5.2) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.5.2) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /System/Library/Frameworks/Ruby.framework/Versions/2.3/usr/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
  activesupport (4.2.5.2) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.5.2) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:43:in `render'
  remotipart (1.2.1) lib/remotipart/render_overrides.rb:14:in `render_with_remotipart'
  actionpack (4.2.5.2) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.5.2) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.5.2) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.5.2) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.5.2) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.5.2) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.5.2) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.5.2) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.5.2) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.5.2) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:815:in `call'
  rack-pjax (0.8.0) lib/rack/pjax.rb:12:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  remotipart (1.2.1) lib/remotipart/middleware.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.5.2) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.5.2) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.5.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.5.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.5.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.5.2) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  thin (1.7.0) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.7.0) lib/thin/connection.rb:84:in `catch'
  thin (1.7.0) lib/thin/connection.rb:84:in `pre_process'
  thin (1.7.0) lib/thin/connection.rb:53:in `process'
  thin (1.7.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run_machine'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run'
  thin (1.7.0) lib/thin/backends/base.rb:73:in `start'
  thin (1.7.0) lib/thin/server.rb:162:in `start'
  rack (1.6.5) lib/rack/handler/thin.rb:19:in `run'
  rack (1.6.5) lib/rack/server.rb:286:in `start'
  railties (4.2.5.2) lib/rails/commands/server.rb:80:in `start'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:80:in `block in server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `tap'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:39:in `run_command!'
  railties (4.2.5.2) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (58.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (46.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (103.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 20:46:58 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (31.2ms)
  Rendered layouts/_login_panel.html.erb (7.4ms)
  Rendered layouts/_header.html.erb (10.8ms)
  Rendered layouts/_content.html.erb (0.7ms)
Completed 200 OK in 386ms (Views: 364.5ms | ActiveRecord: 0.5ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 20:47:02 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (371.5ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 419ms (Views: 416.2ms | ActiveRecord: 0.4ms)


Started PATCH "/users/1" for 127.0.0.1 at 2018-12-05 20:47:04 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"epkfoXl+QDHoBudOeMLrXiGbdTtMzF2Ip9N+TLTnARrkd03ad7fOqz6nYcEeiEpZM8URsK+1pY0+CGC045fsPA==", "user"=>{"name"=>"user1", "email"=>"user1@test.com", "password"=>"[FILTERED]", "phonenumber"=>"970.848.2303 x139", "sex"=>"female"}, "commit"=>"更新信息", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/users
Completed 302 Found in 12ms (ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at 2018-12-05 20:47:04 +0800
Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template users/index, application/index with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder, :haml]}. Searched in:
  * "/Users/zhangyin/git/RailsChat/app/views"
  * "/Library/Ruby/Gems/2.3.0/gems/rails_admin-0.8.1/app/views"
  * "/Library/Ruby/Gems/2.3.0/gems/kaminari-0.16.3/app/views"
):
  actionview (4.2.5.2) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.5.2) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.5.2) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.5.2) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.5.2) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.5.2) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.5.2) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.5.2) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.5.2) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.5.2) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.5.2) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.5.2) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.5.2) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.5.2) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.5.2) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /System/Library/Frameworks/Ruby.framework/Versions/2.3/usr/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
  activesupport (4.2.5.2) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.5.2) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:43:in `render'
  remotipart (1.2.1) lib/remotipart/render_overrides.rb:14:in `render_with_remotipart'
  actionpack (4.2.5.2) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.5.2) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.5.2) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.5.2) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.5.2) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.5.2) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.5.2) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.5.2) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.5.2) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.5.2) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:815:in `call'
  rack-pjax (0.8.0) lib/rack/pjax.rb:12:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  remotipart (1.2.1) lib/remotipart/middleware.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.5.2) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.5.2) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.5.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.5.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.5.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.5.2) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  thin (1.7.0) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.7.0) lib/thin/connection.rb:84:in `catch'
  thin (1.7.0) lib/thin/connection.rb:84:in `pre_process'
  thin (1.7.0) lib/thin/connection.rb:53:in `process'
  thin (1.7.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run_machine'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run'
  thin (1.7.0) lib/thin/backends/base.rb:73:in `start'
  thin (1.7.0) lib/thin/server.rb:162:in `start'
  rack (1.6.5) lib/rack/handler/thin.rb:19:in `run'
  rack (1.6.5) lib/rack/server.rb:286:in `start'
  railties (4.2.5.2) lib/rails/commands/server.rb:80:in `start'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:80:in `block in server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `tap'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:39:in `run_command!'
  railties (4.2.5.2) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (61.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (50.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (114.9ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 20:49:17 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (11.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 57.0ms | ActiveRecord: 0.4ms)


Started PATCH "/users/1" for 127.0.0.1 at 2018-12-05 20:49:19 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qzh0LO0axSLZ/sfJHMSml94Hj+Qb/l8isS5Q6R6XaoY11iZX49NLuA9fQUZ6jgeQzFnrb/iHpyco9U4RSeeHoA==", "user"=>{"name"=>"user1", "email"=>"user1@test.com", "password"=>"[FILTERED]", "phonenumber"=>"970.848.2303 x139", "sex"=>"female"}, "commit"=>"更新信息", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/users
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/users" for 127.0.0.1 at 2018-12-05 20:49:19 +0800
Processing by UsersController#index as HTML
  Rendered users/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 53.3ms | ActiveRecord: 0.1ms)


Started PATCH "/users/1" for 127.0.0.1 at 2018-12-05 20:49:30 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"epkfoXl+QDHoBudOeMLrXiGbdTtMzF2Ip9N+TLTnARrkd03ad7fOqz6nYcEeiEpZM8URsK+1pY0+CGC045fsPA==", "user"=>{"name"=>"user1", "email"=>"user1@test.com", "password"=>"[FILTERED]", "phonenumber"=>"970.848.2303 x139", "sex"=>"female"}, "commit"=>"更新信息", "id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$10$uYU1lmARL7qdJshpVqlb0.AIOInMms.pcZTLDHrAHdViSm2FElMbK"], ["updated_at", "2018-12-05 12:49:30.499549"], ["id", 1]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://localhost:3000/users
Completed 302 Found in 69ms (ActiveRecord: 1.9ms)


Started GET "/users" for 127.0.0.1 at 2018-12-05 20:49:30 +0800
Processing by UsersController#index as HTML
  Rendered users/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 45ms (Views: 44.5ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-05 20:49:48 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.6ms)
  Rendered chats/_navside.html.erb (21.7ms)
  Rendered chats/index.html.erb within layouts/application (24.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 91ms (Views: 63.7ms | ActiveRecord: 1.1ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 20:49:50 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (13.3ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 55.8ms | ActiveRecord: 0.2ms)


Started PATCH "/users/1" for 127.0.0.1 at 2018-12-05 20:49:52 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vsJW2YOmE0WGrnqsUFRz3PMO5630D0Ld2dx4y8f0UIQgLASijW+d31AP/CM2HtLb4VCDJhd2uthAB2YzkIS9og==", "user"=>{"name"=>"user1", "email"=>"user1@test.com", "password"=>"[FILTERED]", "phonenumber"=>"970.848.2303 x139", "sex"=>"female"}, "commit"=>"更新信息", "id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/users" for 127.0.0.1 at 2018-12-05 20:49:52 +0800
Processing by UsersController#index as HTML
  Rendered users/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.1ms | ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:22:29 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (32.7ms)
  Rendered layouts/_login_panel.html.erb (7.9ms)
  Rendered layouts/_header.html.erb (11.6ms)
  Rendered layouts/_content.html.erb (0.9ms)
Completed 200 OK in 426ms (Views: 404.8ms | ActiveRecord: 0.5ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 21:22:32 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to 
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)

NoMethodError (undefined method `stringify_keys' for #<ActionDispatch::Flash::FlashHash:0x00007fcd7b306b78>
Did you mean?  stringify_array):
  app/controllers/users_controller.rb:24:in `show'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (62.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (357.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (423.7ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 21:23:17 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (14.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 56.8ms | ActiveRecord: 0.8ms)


Started PATCH "/users/1" for 127.0.0.1 at 2018-12-05 21:23:27 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1/D6uuy8t0uCBG6J8V8JTLBk4HgD1Yuk5knjk8d6XadJHqjB4nU50VSl6AaXFahLojqE8+Csc6F/kv1rkAqwgQ==", "user"=>{"name"=>"user1", "email"=>"user1@test.com", "password"=>"[FILTERED]", "phonenumber"=>"970.848.2303 x139", "sex"=>"female"}, "commit"=>"更新信息", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/users
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2018-12-05 21:23:27 +0800
Processing by UsersController#index as HTML
  Rendered users/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 42.5ms | ActiveRecord: 0.1ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 21:24:18 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (10.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 65ms (Views: 51.0ms | ActiveRecord: 0.7ms)


Started PATCH "/users/1" for 127.0.0.1 at 2018-12-05 21:24:20 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+EKDsrnjYpO4SddDH6Zvo2OvUodvV40tKDUPnSVsgNRmrNHJtyrsCW7oUcx57M6kcfE2DIwudSix7hFlchxt8g==", "user"=>{"name"=>"user1", "email"=>"user1@test.com", "password"=>"[FILTERED]", "phonenumber"=>"970.848.2303 x139", "sex"=>"female"}, "commit"=>"更新信息", "id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:24:20 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 53.2ms | ActiveRecord: 0.1ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 21:24:24 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (17.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 62ms (Views: 60.4ms | ActiveRecord: 0.2ms)


Started PATCH "/users/1" for 127.0.0.1 at 2018-12-05 21:24:26 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UvnR0WwaCeP+ZBuZ7RqWC3Aih0ClNYkDYiLf4uyqJqXMF4OqYtOHeSjFnRaLUDcMYnzjy0ZMcQb7+cEau9rLgw==", "user"=>{"name"=>"user1", "email"=>"user1@test.com", "password"=>"[FILTERED]", "phonenumber"=>"970.848.2303 x139", "sex"=>"female"}, "commit"=>"更新信息", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:24:26 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (1.1ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 45ms (Views: 44.4ms | ActiveRecord: 0.1ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 21:24:31 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (13.0ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 59.0ms | ActiveRecord: 0.2ms)


Started PATCH "/users/1" for 127.0.0.1 at 2018-12-05 21:24:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"co59k1G3EyJSt78SA0AoyvpDQ70Fz3YIfQxwwA1BgVzsYC/oX36duIQWOZ1lConN6B0nNua2jg3k1244WjFseg==", "user"=>{"name"=>"user1", "email"=>"user1@test.com", "password"=>"[FILTERED]", "phonenumber"=>"970.848.2303 x139", "sex"=>"female"}, "commit"=>"更新信息", "id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:24:36 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (1.3ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 46.1ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-05 21:24:38 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.5ms)
  Rendered chats/_navside.html.erb (20.8ms)
  Rendered chats/index.html.erb within layouts/application (22.9ms)
  Rendered layouts/_login_panel.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 97ms (Views: 67.3ms | ActiveRecord: 1.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-05 21:24:42 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.6ms)
  Rendered chats/index.html.erb within layouts/application (7.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 48.0ms | ActiveRecord: 0.4ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 21:24:43 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (13.5ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 51.0ms | ActiveRecord: 0.2ms)


Started PATCH "/users/1" for 127.0.0.1 at 2018-12-05 21:24:45 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"e7Pes87cp/AgaFPUPdNY1RoVwy3VVzik1gueDe2sChrlXYzIwBUpavbJ1VtbmfnSCEunpjYuwKFP0ID1utznPA==", "user"=>{"name"=>"user1", "email"=>"user1@test.com", "password"=>"[FILTERED]", "phonenumber"=>"970.848.2303 x139", "sex"=>"female"}, "commit"=>"更新信息", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:24:45 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 38.0ms | ActiveRecord: 0.1ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-05 21:24:47 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ydtpT+ois7wmIACOzat82Byc4T01g/p5DUKhV+9UcsRXNTs05Os9JvCBhgGr4d3fDsKFttb6AnyUmb+vuCSf4g=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:24:47 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (9.7ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 46.5ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-05 21:25:04 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"9m1C2vUeKjGrjIe7PVLenSn5Oo6l2WJfgKPcwU9M3LZogxCh+9ekq30tATRbGH+aO6deBUagmloZeMI5GDwxkA==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user1@test.com"]]
Redirected to http://localhost:3000/
Completed 302 Found in 58ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:25:04 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 35ms (Views: 35.0ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-05 21:25:21 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"iEVolUiNATZVFX7n5WlguEQx6CD7FoJeIeTxnNHglz8WqzruRkSPrIO0+GiDI8G/Vm+Mqxhvelu4P+9khpB6GQ==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user1@test.com"]]
Redirected to http://localhost:3000/
Completed 302 Found in 70ms (ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:25:21 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 42.1ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-05 21:25:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AljpkdJoZO5nwcXvJUfDIRo6xUHz78rIyqXuINfCnOqctrvq3KHqdLFgQ2BDDWImCGShyhCWMs1TfvDYgLJxzA==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user1@test.com"]]
Redirected to http://localhost:3000/
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:25:39 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 42.1ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-05 21:26:10 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZOxXQ8sVm0BoYx53EYipmX8Cwx6ABVJUxS/FBG5BqVb6AgU4xdwV2r7CmPh3wgiebVynlWN8qlFc9Nv8OTFEcA==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user1@test.com"]]
Redirected to http://localhost:3000/
Completed 302 Found in 64ms (ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:26:10 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 39.1ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-05 21:26:29 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MW0xcipd21sQHTfELNOh4bceLj6OedkOm+/Fnd3b/OOvg2MJJJRVwca8sUtKmQDmpUBKtW0AIQsCNNtliqsRxQ==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user1@test.com"]]
Redirected to http://localhost:3000/
Completed 302 Found in 65ms (ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:26:29 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 39ms (Views: 38.8ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-05 21:26:46 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"br2yLmK5tboK/Dpr3aJLx9pDrvbLqvoNS7WxiKXCBtnwU+BVbHA7INxdvOS76OrAyB3KfSjTAgjSbq9w8rLr/w==", "session"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user2@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 59ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:26:47 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 37.7ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-05 21:26:50 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (11.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.2ms)
Completed 200 OK in 56ms (Views: 54.6ms | ActiveRecord: 0.2ms)


Started PATCH "/users/2" for 127.0.0.1 at 2018-12-05 21:26:59 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yqkdwqywY2z0pFUO+osrTuVWzS747JjHm9HnhMDfOUZUR0+5onnt9iIF04GcwYpJ9wippRuVYMICCvl8l6/UYA==", "user"=>{"name"=>"user2", "email"=>"user2@test.com", "password"=>"[FILTERED]", "phonenumber"=>"(288) 384-9798", "sex"=>"male"}, "commit"=>"更新信息", "id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user2@test.com') AND "users"."id" != 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$10$bReDv1/Fds6lxM.hBXhAQuDtjwfkrOXFNfJ4tw2r0Q1VmlPV/QTcG"], ["updated_at", "2018-12-05 13:26:59.587665"], ["id", 2]]
  [1m[35m (1.4ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 67ms (ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:26:59 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 37.9ms | ActiveRecord: 0.1ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-05 21:27:04 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"qZJQLN8r2y3ztsIcnDSbL+rscMuC4k58n73W043QuJ03fAJX0eJVtyUXRJP6fjoo+LIUQGGbtnkGZsgr2qBVuw=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:27:04 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.8ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-05 21:27:25 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ODQwX3Yzl3IbvWSrE8chyFveFAjhvjzlD0T6Tt2G9o+m2mIkePoZ6M0c4iR1jYDPSYBwgwLHxOCWn+S2ivYbqQ==", "session"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user2@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 65ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:27:25 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 39.1ms | ActiveRecord: 0.1ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-05 21:27:29 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"PhPusErfvMCjUwjpBUHfxR/mPZEraXk300YDU6WNcVyg/bzLRBYyWnXyjmZjC37CDbhZGsgQgTJKnR2r8v2ceg=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:27:29 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 37.2ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-05 21:27:46 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XfirwhDzs4sB7Z25XbDdtvJPOTQGPRWwmzn0EFMkORfDFvm5Hjo9EddMGzY7+nyx4BFdv+VE7bUC4uroBFTUMQ==", "session"=>{"email"=>"user3@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user3@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 65ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:27:46 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 35ms (Views: 34.1ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-05 21:27:48 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 3]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 3]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.4ms)
  Rendered chats/index.html.erb within layouts/application (7.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.2ms)
Completed 200 OK in 50ms (Views: 47.1ms | ActiveRecord: 0.5ms)


Started GET "/users/3" for 127.0.0.1 at 2018-12-05 21:27:55 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (18.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 67ms (Views: 64.9ms | ActiveRecord: 0.3ms)


Started PATCH "/users/3" for 127.0.0.1 at 2018-12-05 21:28:03 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"v2DhdOmtDuTMnKsdzhkMVLZ2/EQ+8EPjXC8zklZ3trIhjrMP52SAfho9LZKoU61TpCiYz92Ju+bF9C1qAQdblA==", "user"=>{"name"=>"user3", "email"=>"user3@test.com", "password"=>"[FILTERED]", "phonenumber"=>"313.128.3073", "sex"=>"female"}, "commit"=>"更新信息", "id"=>"3"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user3@test.com') AND "users"."id" != 3) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$10$nTStKJ1HdTwQpx9rqBzkfeIrzS2z6.iMkdoqm0BJRcL9T7BLs.CXK"], ["updated_at", "2018-12-05 13:28:03.902469"], ["id", 3]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 66ms (ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:28:03 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 38.0ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-05 21:28:08 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 3]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 3]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.3ms)
  Rendered chats/index.html.erb within layouts/application (7.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 49.2ms | ActiveRecord: 0.5ms)


Started GET "/users/3" for 127.0.0.1 at 2018-12-05 21:28:11 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (11.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 52.8ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-05 21:28:13 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 3]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 3]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.0ms)
  Rendered chats/index.html.erb within layouts/application (7.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 51.2ms | ActiveRecord: 0.6ms)


Started GET "/users/3" for 127.0.0.1 at 2018-12-05 21:28:14 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (12.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 55.2ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-05 21:28:15 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 3]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 3]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (4.8ms)
  Rendered chats/index.html.erb within layouts/application (6.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 50.3ms | ActiveRecord: 0.5ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 21:28:17 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
Redirected to http://localhost:3000/users/3
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/users/3" for 127.0.0.1 at 2018-12-05 21:28:17 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (12.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 54.7ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-05 21:28:24 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 3]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 3]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.0ms)
  Rendered chats/index.html.erb within layouts/application (7.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 48.7ms | ActiveRecord: 1.0ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 21:28:28 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
Redirected to http://localhost:3000/users/3
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/users/3" for 127.0.0.1 at 2018-12-05 21:28:28 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (8.9ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 49.2ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-05 21:28:29 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 3]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 3]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.6ms)
  Rendered chats/index.html.erb within layouts/application (8.4ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 63ms (Views: 59.0ms | ActiveRecord: 0.6ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:32:14 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  Rendered homes/home.html.erb within layouts/application (32.5ms)
  Rendered layouts/_login_panel.html.erb (7.7ms)
  Rendered layouts/_header.html.erb (11.3ms)
  Rendered layouts/_content.html.erb (0.9ms)
Completed 200 OK in 420ms (Views: 398.1ms | ActiveRecord: 0.5ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-05 21:32:15 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
Redirected to http://localhost:3000/users/3
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-05 21:32:21 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 3]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 3]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 3]]
  Rendered chats/_search_fridends.html.erb (0.5ms)
  Rendered chats/_navside.html.erb (21.7ms)
  Rendered chats/index.html.erb within layouts/application (23.6ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 110ms (Views: 68.9ms | ActiveRecord: 1.1ms)


Started GET "/users/3" for 127.0.0.1 at 2018-12-05 21:32:22 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (309.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 355ms (Views: 353.7ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-05 21:32:24 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 3]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 3]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.6ms)
  Rendered chats/index.html.erb within layouts/application (9.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 53.3ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-05 21:32:24 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 3]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 3]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.2ms)
  Rendered chats/index.html.erb within layouts/application (5.7ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 49.3ms | ActiveRecord: 0.3ms)


Started GET "/users/3" for 127.0.0.1 at 2018-12-05 21:32:27 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (15.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 61ms (Views: 59.3ms | ActiveRecord: 0.2ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-05 21:32:29 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Ldjsj39zGqpr/2sZc5nOL9FtrKhOHr464f2pE4Wu+hKzNr70cbqUML1e7ZYV028owzPII61nRj94Jrfr0t4XNA=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:32:29 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (10.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 50.7ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-05 21:32:52 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O13zqcjwsh5h1E2SXe3EreLQKcipAWhYTS9A8DMjbSqls6HSxjk8hLd1yx07p2Wq8I5NQ0p4kF3U9F4IZFOADA==", "session"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user2@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 65ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:32:52 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 39.8ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-05 21:32:58 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (10.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 52.6ms | ActiveRecord: 0.3ms)


Started PATCH "/users/2" for 127.0.0.1 at 2018-12-05 21:33:04 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"V4PgaUGy/0MpDcdJSeWyEgOhsUBM3fdK0gYY6b+S4vTJbbIST3tx2f+sQcYvrxMVEf/Vy6+kD09L3QYR6OIP0g==", "user"=>{"name"=>"user2", "email"=>"user2@test.com", "password"=>"[FILTERED]", "phonenumber"=>"(288) 384-9798", "sex"=>"male"}, "commit"=>"更新信息", "id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user2@test.com') AND "users"."id" != 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$10$z5JkTjM7crUlCTIOIlOIPOb2UEGMqVP5FzSVuW/iJXQQTU6y2cSDO"], ["updated_at", "2018-12-05 13:33:04.137257"], ["id", 2]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 69ms (ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2018-12-05 21:33:04 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 46ms (Views: 45.0ms | ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-06 16:04:49 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (12.1ms)
  Rendered layouts/_login_panel.html.erb (10.4ms)
  Rendered layouts/_header.html.erb (13.9ms)
  Rendered layouts/_content.html.erb (1.5ms)
Completed 200 OK in 511ms (Views: 488.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-12-06 16:04:50 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-12-06 16:04:50 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-12-06 16:04:50 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-12-06 16:04:50 +0800


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-06 16:05:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lD4FMhfSu/pwPC+4GRO6tbz+A2ujbfjMzBK8RZbmx1t7CRw/hF2kv8mKLwN2zjICa0Wspttkgd/yoBYFztOV5Q==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user1@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 103ms (ActiveRecord: 1.7ms)


Started GET "/" for 127.0.0.1 at 2018-12-06 16:05:08 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 37.8ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-06 16:05:11 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.5ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.5ms)
  Rendered chats/_navside.html.erb (20.8ms)
  Rendered chats/index.html.erb within layouts/application (22.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 104ms (Views: 65.9ms | ActiveRecord: 2.2ms)


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-12-06 16:05:12 +0800


Started GET "/chats" for 127.0.0.1 at 2018-12-06 16:09:13 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  Rendered chats/_navside.html.erb (31.8ms)
  Rendered chats/index.html.erb within layouts/application (33.5ms)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 0.3ms)

ActionView::Template::Error (undefined local variable or method `apply_active' for #<#<Class:0x00007f826b2605a8>:0x00007f826a77a080>):
     7:       <li class=<%= chat_active %>>
     8:         <a href="#chat-tab" data-toggle="tab"><i class="fa fa-weixin"></i>聊天</a>
     9:       </li>
    10:       <li class=<%= apply_active %>>
    11:         <a href="#apply-tab" data-toggle="tab"><i class="fa fa-book"></i>好友申请</a>
    12:       </li>
    13:       <li class=<%= wait_active %>>
  app/views/chats/_navside.html.erb:10:in `_app_views_chats__navside_html_erb___3944046295833395213_70099054330480'
  app/views/chats/index.html.erb:3:in `_app_views_chats_index_html_erb___7911143492909792_70099060048460'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (64.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (325.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (400.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-06 16:11:40 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  Rendered chats/_navside.html.erb (28.6ms)
  Rendered chats/index.html.erb within layouts/application (29.8ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.2ms)

ActionView::Template::Error (undefined local variable or method `apply_active' for #<#<Class:0x00007f826b2605a8>:0x00007f826fac1590>):
     7:       <li class=<%= chat_active %>>
     8:         <a href="#chat-tab" data-toggle="tab"><i class="fa fa-weixin"></i>聊天</a>
     9:       </li>
    10:       <li class=<%= apply_active %>>
    11:         <a href="#apply-tab" data-toggle="tab"><i class="fa fa-book"></i>好友申请</a>
    12:       </li>
    13:       <li class=<%= wait_active %>>
  app/views/chats/_navside.html.erb:10:in `_app_views_chats__navside_html_erb___3944046295833395213_70099097876160'
  app/views/chats/index.html.erb:3:in `_app_views_chats_index_html_erb___7911143492909792_70099060048460'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (100.8ms)


Started GET "/" for 127.0.0.1 at 2018-12-06 16:15:23 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 46.5ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-06 16:15:26 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_navside.html.erb (38.5ms)
  Rendered chats/index.html.erb within layouts/application (40.6ms)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 0.5ms)

ActionView::Template::Error (undefined local variable or method `apply_active' for #<#<Class:0x00007f826b2605a8>:0x00007f826976da98>):
    59:         </ul>
    60:       </div>
    61: 
    62:       <div class="tab-pane fade in <%= apply_active %>" id="apply-tab">
    63:         <ul class="list-group">
    64:           <% current_user.chats.each do |chatroom| %>
    65:               <%= link_to chat_path(chatroom), class: 'list-group-item' do %>
  app/views/chats/_navside.html.erb:62:in `_app_views_chats__navside_html_erb___3944046295833395213_70099045865880'
  app/views/chats/index.html.erb:3:in `_app_views_chats_index_html_erb___7911143492909792_70099060048460'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (55.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (101.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-06 16:16:20 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.2ms)
  Rendered chats/index.html.erb within layouts/application (7.7ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 45.3ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-06 16:29:42 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.4ms)
  Rendered chats/_navside.html.erb (262.8ms)
  Rendered chats/index.html.erb within layouts/application (267.6ms)
  Rendered layouts/_login_panel.html.erb (6.4ms)
  Rendered layouts/_header.html.erb (9.2ms)
  Rendered layouts/_content.html.erb (0.5ms)
Completed 200 OK in 410ms (Views: 331.7ms | ActiveRecord: 1.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-06 16:30:57 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.5ms)
  Rendered chats/index.html.erb within layouts/application (6.1ms)
  Rendered layouts/_login_panel.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 34.0ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 16:44:48 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (10.1ms)
  Rendered layouts/_login_panel.html.erb (10.6ms)
  Rendered layouts/_header.html.erb (14.9ms)
  Rendered layouts/_content.html.erb (0.8ms)
Completed 200 OK in 415ms (Views: 395.5ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-10 16:45:04 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"S7HeR5Gx+dFVUWVO1mcEhRjg6wH5VP3UmZozx+IusWLjzpDnAvr5ZgQ5kjO21wfuUToMsCsimJsZdnJxbnMvUQ==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user1@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 107ms (ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 16:45:04 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (1.0ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 51.7ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-10 16:45:10 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (272.2ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 317ms (Views: 314.7ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 16:45:17 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.5ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.6ms)
  Rendered chats/_navside.html.erb (21.5ms)
  Rendered chats/index.html.erb within layouts/application (23.6ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 100ms (Views: 63.6ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 17:04:19 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (20.2ms)
  Rendered layouts/_login_panel.html.erb (6.9ms)
  Rendered layouts/_header.html.erb (9.9ms)
  Rendered layouts/_content.html.erb (0.5ms)
Completed 200 OK in 366ms (Views: 347.2ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:04:22 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.4ms)
  Rendered chats/_navside.html.erb (19.8ms)
  Rendered chats/index.html.erb within layouts/application (21.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 109ms (Views: 83.3ms | ActiveRecord: 1.0ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-10 17:05:20 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"TgXU+nuASNxXM3WhyiJ7N83ERqWV2wUcwNS1wX7qx5Lmeppa6MtIawZbgtyqknhchB6hFEetYFNAOPR38rdZoQ=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 17:05:20 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (10.0ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 50.1ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-10 17:05:37 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"H8KyvlSTW/MPwZmQhcW7/bpHt2QSssuydLXLLq1LCS+3vfwex9hbRF6pbu3ldbiW851Q1cDErv30WYqYIRaXHA==", "session"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user2@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 59ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 17:05:37 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 42.3ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:05:40 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (5.7ms)
  Rendered chats/_navside.html.erb (12.3ms)
  Rendered chats/index.html.erb within layouts/application (14.1ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 72ms (Views: 65.0ms | ActiveRecord: 0.6ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-10 17:06:00 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YfHZ2O82fhz9MzwC/qnljWim+ij5ellBU7WKijin1qjJjpd4fH1+q6xby3+eGebmIXwdmSsMPA7TWcs8tPpImw==", "users"=>"1", "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user2@test.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "chats" ("admin_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["admin_id", 2], ["name", "user1-user2"], ["created_at", "2018-12-10 09:06:00.608735"], ["updated_at", "2018-12-10 09:06:00.608735"]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 1], ["chat_id", 1], ["created_at", "2018-12-10 09:06:00.610852"], ["updated_at", "2018-12-10 09:06:00.610852"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 2], ["chat_id", 1], ["created_at", "2018-12-10 09:06:00.613320"], ["updated_at", "2018-12-10 09:06:00.613320"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats/1
Completed 302 Found in 35ms (ActiveRecord: 4.5ms)


Started GET "/chats/1" for 127.0.0.1 at 2018-12-10 17:06:00 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 1], ["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_navside.html.erb (9.0ms)
  Rendered chats/show.html.erb within layouts/application (11.6ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 1.0ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="apply-tab">
    63:         <ul class="list-group">
    64:           <% @apply.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277285959820'
  app/views/chats/show.html.erb:3:in `_app_views_chats_show_html_erb___3823747188805327710_70277338966160'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (64.9ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (258.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (323.7ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 17:10:50 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (13.2ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 54.2ms | ActiveRecord: 0.5ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-10 17:10:53 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (23.1ms)
  Rendered layouts/_login_panel.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 68ms (Views: 66.3ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:10:54 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (20.1ms)
  Rendered chats/index.html.erb within layouts/application (21.7ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 79ms (Views: 67.0ms | ActiveRecord: 1.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:11:09 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.1ms)
  Rendered chats/index.html.erb within layouts/application (5.2ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 41ms (Views: 38.5ms | ActiveRecord: 0.3ms)


Started DELETE "/friendships/1" for 127.0.0.1 at 2018-12-10 17:11:13 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"kG6B5eMLWQYe8nvSuXN/7fmj44oHj+fcxmZh1xa/SRo4Ec9FcEBZsU+ajK/Zw3yGsHkEO9X5gpNGiiBhmuLXKQ==", "id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 2], ["friend_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMessage Load (1.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "chats_users" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "chats" WHERE "chats"."id" = ?  [["id", 1]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 19ms (ActiveRecord: 3.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:11:13 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.8ms)
  Rendered chats/index.html.erb within layouts/application (6.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 48.1ms | ActiveRecord: 0.5ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-10 17:11:23 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/2
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-10 17:11:23 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (13.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 55.7ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:11:30 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.9ms)
  Rendered chats/index.html.erb within layouts/application (6.6ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_content.html.erb (0.2ms)
Completed 200 OK in 56ms (Views: 52.0ms | ActiveRecord: 0.6ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-10 17:11:33 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"68P/7rT+6UukS9j5hTQkwRcr16F35yWQoVFC1ULEI1tDvLFOJ7Xp/PUjL4TlhCeqXvEwEKWRQN8hvQNjzpm9aA==", "users"=>"1", "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user2@test.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "chats" ("admin_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["admin_id", 2], ["name", "user1-user2"], ["created_at", "2018-12-10 09:11:33.343116"], ["updated_at", "2018-12-10 09:11:33.343116"]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 1], ["chat_id", 2], ["created_at", "2018-12-10 09:11:33.344368"], ["updated_at", "2018-12-10 09:11:33.344368"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 2], ["chat_id", 2], ["created_at", "2018-12-10 09:11:33.345600"], ["updated_at", "2018-12-10 09:11:33.345600"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats/2
Completed 302 Found in 15ms (ActiveRecord: 2.7ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 17:11:33 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 2], ["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_navside.html.erb (5.8ms)
  Rendered chats/show.html.erb within layouts/application (7.3ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.7ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="apply-tab">
    63:         <ul class="list-group">
    64:           <% @apply.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277285959820'
  app/views/chats/show.html.erb:3:in `_app_views_chats_show_html_erb___3823747188805327710_70277338966160'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (69.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.9ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (105.7ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-10 17:12:13 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8oIe1pIJbmwPuYlidCfISkcBhYSoNzAAWEJQDPwXNHNa/VB2AUJu217Rfh8Ul8shDttiNXpBVU/YrhG6cEqqQA==", "users"=>"2", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user2@test.com') AND "users"."id" != 2) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user2@test.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "chats" ("admin_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["admin_id", 2], ["name", "user2-user2"], ["created_at", "2018-12-10 09:12:13.644199"], ["updated_at", "2018-12-10 09:12:13.644199"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["chat_id", 3], ["created_at", "2018-12-10 09:12:13.645264"], ["updated_at", "2018-12-10 09:12:13.645264"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 2], ["chat_id", 3], ["created_at", "2018-12-10 09:12:13.648145"], ["updated_at", "2018-12-10 09:12:13.648145"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats/3
Completed 302 Found in 13ms (ActiveRecord: 2.3ms)


Started GET "/chats/3" for 127.0.0.1 at 2018-12-10 17:12:13 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 3], ["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_navside.html.erb (6.5ms)
  Rendered chats/show.html.erb within layouts/application (8.1ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.6ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="apply-tab">
    63:         <ul class="list-group">
    64:           <% @apply.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277285959820'
  app/views/chats/show.html.erb:3:in `_app_views_chats_show_html_erb___3823747188805327710_70277338966160'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (102.4ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 17:16:58 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (13.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 55.7ms | ActiveRecord: 0.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:16:58 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (20.2ms)
  Rendered chats/index.html.erb within layouts/application (21.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 77ms (Views: 63.9ms | ActiveRecord: 1.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:17:01 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.2ms)
  Rendered chats/index.html.erb within layouts/application (7.9ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 45.8ms | ActiveRecord: 0.6ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 17:17:08 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.3ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 2], ["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_navside.html.erb (4.5ms)
  Rendered chats/show.html.erb within layouts/application (6.1ms)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 1.5ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="apply-tab">
    63:         <ul class="list-group">
    64:           <% @apply.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277285959820'
  app/views/chats/show.html.erb:3:in `_app_views_chats_show_html_erb___3823747188805327710_70277338966160'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.9ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (103.4ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 17:19:53 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 2], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_navside.html.erb (9.0ms)
  Rendered chats/show.html.erb within layouts/application (10.5ms)
Completed 500 Internal Server Error in 61ms (ActiveRecord: 2.0ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="apply-tab">
    63:         <ul class="list-group">
    64:           <% @apply.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277285959820'
  app/views/chats/show.html.erb:3:in `_app_views_chats_show_html_erb___3823747188805327710_70277338966160'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (71.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.9ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (102.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 17:23:41 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (13.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 56.7ms | ActiveRecord: 0.7ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:23:41 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_navside.html.erb (19.1ms)
  Rendered chats/index.html.erb within layouts/application (20.7ms)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 1.2ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="apply-tab">
    63:         <ul class="list-group">
    64:           <% @newfriends.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277387960940'
  app/views/chats/index.html.erb:3:in `_app_views_chats_index_html_erb__2605010718379034990_70277285855700'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (50.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (128.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:23:43 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_navside.html.erb (5.0ms)
  Rendered chats/index.html.erb within layouts/application (6.7ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.5ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="apply-tab">
    63:         <ul class="list-group">
    64:           <% @newfriends.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277387960940'
  app/views/chats/index.html.erb:3:in `_app_views_chats_index_html_erb__2605010718379034990_70277285855700'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (55.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (117.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:25:54 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.5ms)
  Rendered chats/index.html.erb within layouts/application (18.1ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 82ms (Views: 59.0ms | ActiveRecord: 1.5ms)


Started GET "/users/index_json?query=user1" for 127.0.0.1 at 2018-12-10 17:26:07 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 2) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 2) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user1%')  [["user_id", 2]]
Completed 200 OK in 10ms (Views: 1.7ms | ActiveRecord: 0.9ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-12-10 17:26:09 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"xnQ4t7U1eweFriBxAHCLDQNh6QCaUqwR7gm3d0qvxsRuC3YXJn57sNTG1wxgwIhmSrsOsUgkyV5u5fbBxvJY9w==", "friend_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 1], ["user_id", 2], ["created_at", "2018-12-10 09:26:09.925457"], ["updated_at", "2018-12-10 09:26:09.925457"]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:26:09 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (5.6ms)
  Rendered chats/index.html.erb within layouts/application (7.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 47.3ms | ActiveRecord: 0.4ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-10 17:26:15 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wnSj0S0o1+S3PsadnOS6ilYjGhdMJdXlJHJRVxDR+QRqC+1xvmPXU+ZWMeD8VLnhH/n9pp5TsKqknhDhnIxnNw==", "users"=>"1", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 2]]
Redirected to http://localhost:3000/chats/2
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 17:26:15 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 2], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_navside.html.erb (6.1ms)
  Rendered chats/show.html.erb within layouts/application (7.7ms)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="apply-tab">
    63:         <ul class="list-group">
    64:           <% @newfriends.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277387960940'
  app/views/chats/show.html.erb:3:in `_app_views_chats_show_html_erb___3823747188805327710_70277338966160'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.9ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (102.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:26:18 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.5ms)
  Rendered chats/index.html.erb within layouts/application (7.0ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 50.2ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:26:45 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.4ms)
  Rendered chats/index.html.erb within layouts/application (7.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 49.7ms | ActiveRecord: 0.4ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-10 17:26:46 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (13.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 61ms (Views: 59.1ms | ActiveRecord: 0.3ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-10 17:26:47 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"FtZyzsDoa9HmOnCmQcrwtTqJzz7AAFbjFxtQZOcFLMa+qTxuU6NrZrdSh9shevPec1MojxJ2M6yX9xHSa1iy9Q=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 17:26:47 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 42.7ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-10 17:27:05 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UahNk45aevuTsVSIa1atKrmStxuBrmpPWIguxl6HT6v51wMzHRF6TMLZo/UL5q5B8EhQqlPYDwDYZG9w0trRmA==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user1@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 61ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 17:27:05 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 37.3ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:27:08 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.3ms)
  Rendered chats/index.html.erb within layouts/application (7.9ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 50.2ms | ActiveRecord: 0.5ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-10 17:27:11 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+7Tm1/poJ/lqYqo8JCZLxgz+o9dtvybvuRj9Rdh58VhTy6h3aSMnTjsKXUFElkitRSREZr/JQ6A59LzzVCRvaw==", "users"=>"2", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 2]]
Redirected to http://localhost:3000/chats/2
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 17:27:11 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 2], ["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_navside.html.erb (5.8ms)
  Rendered chats/show.html.erb within layouts/application (7.3ms)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.6ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="apply-tab">
    63:         <ul class="list-group">
    64:           <% @newfriends.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277387960940'
  app/views/chats/show.html.erb:3:in `_app_views_chats_show_html_erb___3823747188805327710_70277338966160'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (102.9ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:27:14 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.6ms)
  Rendered chats/index.html.erb within layouts/application (7.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 49.9ms | ActiveRecord: 0.5ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 17:27:21 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 2], ["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_navside.html.erb (5.9ms)
  Rendered chats/show.html.erb within layouts/application (7.5ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 1.1ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="apply-tab">
    63:         <ul class="list-group">
    64:           <% @newfriends.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277387960940'
  app/views/chats/show.html.erb:3:in `_app_views_chats_show_html_erb___3823747188805327710_70277338966160'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (46.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (105.4ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 17:33:56 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 2], ["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_navside.html.erb (7.4ms)
  Rendered chats/show.html.erb within layouts/application (9.0ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.6ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="newfriends-tab">
    63:         <ul class="list-group">
    64:           <% @newfriends.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277286370700'
  app/views/chats/show.html.erb:3:in `_app_views_chats_show_html_erb___3823747188805327710_70277338966160'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (101.9ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 17:34:10 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 39ms (Views: 38.7ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:34:10 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.3ms)
  Rendered chats/index.html.erb within layouts/application (6.9ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 49.6ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 17:34:17 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 36.5ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:34:21 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.7ms)
  Rendered chats/index.html.erb within layouts/application (6.5ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 46.8ms | ActiveRecord: 0.5ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 17:34:29 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 2], ["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_navside.html.erb (6.2ms)
  Rendered chats/show.html.erb within layouts/application (7.8ms)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="newfriends-tab">
    63:         <ul class="list-group">
    64:           <% @newfriends.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277286370700'
  app/views/chats/show.html.erb:3:in `_app_views_chats_show_html_erb___3823747188805327710_70277338966160'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (49.9ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (109.9ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 17:38:33 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 2], ["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_navside.html.erb (11.2ms)
  Rendered chats/show.html.erb within layouts/application (12.7ms)
Completed 500 Internal Server Error in 61ms (ActiveRecord: 1.9ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="newfriends-tab">
    63:         <ul class="list-group">
    64:           <% @newfriends.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277286370700'
  app/views/chats/show.html.erb:3:in `_app_views_chats_show_html_erb___3823747188805327710_70277338966160'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (57.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.9ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (102.9ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 17:38:38 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 2], ["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_navside.html.erb (6.2ms)
  Rendered chats/show.html.erb within layouts/application (7.7ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.6ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="newfriends-tab">
    63:         <ul class="list-group">
    64:           <% @newfriends.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277286370700'
  app/views/chats/show.html.erb:3:in `_app_views_chats_show_html_erb___3823747188805327710_70277338966160'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (47.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (105.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:38:38 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (3.8ms)
  Rendered chats/index.html.erb within layouts/application (5.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 37.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 17:38:39 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 39.7ms | ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 17:38:40 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 41ms (Views: 40.7ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 17:38:42 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.9ms)
  Rendered chats/index.html.erb within layouts/application (6.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 46.8ms | ActiveRecord: 0.5ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 17:38:46 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 2], ["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_navside.html.erb (6.3ms)
  Rendered chats/show.html.erb within layouts/application (8.5ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.8ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    61: 
    62:       <div class="tab-pane fade in" id="newfriends-tab">
    63:         <ul class="list-group">
    64:           <% @newfriends.each do |user| %>
    65:               <li class="list-group-item" style="padding: 0px; margin-bottom: 0px;">
    66: 
    67:               <button class="btn btn-default btn-block" data-toggle="collapse" data-target="#user-<%= user.id %>" id="tab-contact-default">
  app/views/chats/_navside.html.erb:64:in `_app_views_chats__navside_html_erb__2462788059829304219_70277286370700'
  app/views/chats/show.html.erb:3:in `_app_views_chats_show_html_erb___3823747188805327710_70277338966160'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (55.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (44.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (99.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 18:03:35 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (12.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 51.3ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:03:37 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (19.7ms)
  Rendered chats/index.html.erb within layouts/application (21.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 74ms (Views: 62.5ms | ActiveRecord: 1.1ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 18:03:58 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 2], ["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.2ms)
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 2]]
  Rendered chats/_chat_info.html.erb (1.4ms)
  Rendered chats/show.html.erb within layouts/application (14.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 72ms (Views: 54.9ms | ActiveRecord: 1.2ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-10 18:04:16 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"vsuObimybXwdqYNp5r8XVYEiSSrjXWRPW1tA/RriF5YWtMDOuvlty0zBdBSGDxQ+yPiumzErAQDbtwFLlr+JpQ=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 18:04:16 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 49.2ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-10 18:04:30 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tDXJJZE4HoDvJg5I6LGLPlrC2qbq6xN2/6lkjZqpm/scSoeFAnMeN75O+TWIAYhVExg9Fziddjl/RSU7FvQFyA==", "session"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user2@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 58ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 18:04:30 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 31ms (Views: 30.6ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-10 18:04:32 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (10.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 55.8ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:04:33 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.5ms)
  Rendered chats/index.html.erb within layouts/application (7.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 48.2ms | ActiveRecord: 0.5ms)


Started GET "/chats/3" for 127.0.0.1 at 2018-12-10 18:04:47 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 3], ["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.6ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 3]]
  Rendered chats/_chat_info.html.erb (1.6ms)
  Rendered chats/show.html.erb within layouts/application (13.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 65ms (Views: 57.5ms | ActiveRecord: 0.9ms)


Started GET "/chats/3" for 127.0.0.1 at 2018-12-10 18:04:50 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 3], ["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.9ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 3]]
  Rendered chats/_chat_info.html.erb (1.3ms)
  Rendered chats/show.html.erb within layouts/application (11.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 49.6ms | ActiveRecord: 0.6ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 18:04:55 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 2], ["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.2ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 2]]
  Rendered chats/_chat_info.html.erb (1.4ms)
  Rendered chats/show.html.erb within layouts/application (12.1ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 61ms (Views: 54.1ms | ActiveRecord: 1.0ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 18:04:56 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 2], ["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.9ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 2]]
  Rendered chats/_chat_info.html.erb (1.3ms)
  Rendered chats/show.html.erb within layouts/application (11.7ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 51.1ms | ActiveRecord: 0.6ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-10 18:05:09 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3dzf7E9ZhVbiPtSCqYhF+IcDyjEEflClBboyoXCm6dR1o5FM3BKF4bNWI//JOEaTztktgNYINeqFVnMX/Pt35w==", "users"=>"1", "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 2]]
Redirected to http://localhost:3000/chats/2
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-10 18:05:09 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 2], ["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.3ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 2]]
  Rendered chats/_chat_info.html.erb (1.3ms)
  Rendered chats/show.html.erb within layouts/application (12.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 67ms (Views: 62.0ms | ActiveRecord: 0.7ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-10 18:05:14 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/2
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-10 18:05:14 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (11.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 52.2ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-10 18:05:18 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/2
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-10 18:05:18 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (13.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 59ms (Views: 57.5ms | ActiveRecord: 0.2ms)


Started DELETE "/friendships/1" for 127.0.0.1 at 2018-12-10 18:05:21 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"0RxfcugAjdf1lWYV3gCVDfcMyuCMMj9WyaqRHKKJYLJ5YxHSe0uNYKT9kWi+sJZmvtYtUV5EWhlJRtCqLtT+gQ==", "id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 2], ["friend_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "friendships" WHERE "friendships"."id" = ?[0m  [["id", 3]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 2]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "chats_users" WHERE "chats_users"."chat_id" = ?  [["chat_id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "chats" WHERE "chats"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 3]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 3]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "chats_users" WHERE "chats_users"."chat_id" = ?  [["chat_id", 3]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "chats" WHERE "chats"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 3]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 3]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "chats_users" WHERE "chats_users"."chat_id" = ?  [["chat_id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "chats" WHERE "chats"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 1], ["friend_id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "friendships" WHERE "friendships"."id" = ?[0m  [["id", 1]]
  [1m[35m (1.0ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 23ms (ActiveRecord: 6.9ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:05:21 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.4ms)
  Rendered chats/index.html.erb within layouts/application (3.9ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 44.0ms | ActiveRecord: 0.3ms)


Started GET "/users/index_json?query=user1" for 127.0.0.1 at 2018-12-10 18:05:29 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 2) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 2) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user1%')  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.4ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-12-10 18:05:31 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"xt0+JlaA3YNaMpt2lypnxv9ZC+JalwPUKGaIpZZFR9FuonCGxcvdNAtabAv3mmSttoPsU4jhZpuoiskTGhjZ4g==", "friend_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 1], ["user_id", 2], ["created_at", "2018-12-10 10:05:31.347844"], ["updated_at", "2018-12-10 10:05:31.347844"]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 4ms (ActiveRecord: 1.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:05:31 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.2ms)
  Rendered chats/index.html.erb within layouts/application (6.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 49.0ms | ActiveRecord: 0.4ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-10 18:05:38 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SiocOUS5QOVuqXwc2EH6oUjamFvB72AYHhy5RpN9XdLiVVKZ1/JAUj/Bi2G48fnKAQB/6hOZBVee8PjwHyDD4Q==", "users"=>"1", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user2@test.com') AND "users"."id" != 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "chats" ("admin_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["admin_id", 2], ["name", "user1-user2"], ["created_at", "2018-12-10 10:05:38.929472"], ["updated_at", "2018-12-10 10:05:38.929472"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 1], ["chat_id", 4], ["created_at", "2018-12-10 10:05:38.930709"], ["updated_at", "2018-12-10 10:05:38.930709"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["chat_id", 4], ["created_at", "2018-12-10 10:05:38.931678"], ["updated_at", "2018-12-10 10:05:38.931678"]]
  [1m[35m (1.2ms)[0m  commit transaction
Redirected to http://localhost:3000/chats/4
Completed 302 Found in 13ms (ActiveRecord: 2.4ms)


Started GET "/chats/4" for 127.0.0.1 at 2018-12-10 18:05:38 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 4], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.3ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 4]]
  Rendered chats/_chat_info.html.erb (1.5ms)
  Rendered chats/show.html.erb within layouts/application (11.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 52.3ms | ActiveRecord: 0.6ms)


Started POST "/messages" for 127.0.0.1 at 2018-12-10 18:05:43 +0800
Processing by MessagesController#create as JS
  Parameters: {"utf8"=>"✓", "message"=>{"body"=>"111"}, "chat_room"=>"4", "commit"=>"发送"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "messages" ("body", "user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["body", "111"], ["user_id", 2], ["chat_id", 4], ["created_at", "2018-12-10 10:05:43.227942"], ["updated_at", "2018-12-10 10:05:43.227942"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats/4
Completed 200 OK in 10ms (ActiveRecord: 1.6ms)


Started GET "/chats/4" for 127.0.0.1 at 2018-12-10 18:05:43 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 4], ["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 4]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.7ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered sync/messages/refetch/_message_row.html.erb (2.8ms)
  Rendered chats/_chat_info.html.erb (1.7ms)
  Rendered chats/show.html.erb within layouts/application (17.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 62ms (Views: 57.6ms | ActiveRecord: 0.6ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-10 18:06:05 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"MkBOvcuWfxYYwvmBj1KPv0tt1wzUGRKHylVM1IH8BmOaPwAdWN1/oUmqDvzv4ozUArcwvQZvd8hKuQ1iDaGYUA=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 18:06:05 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 50.1ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-10 18:18:21 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"b07pPXOm/3eVOv43vX01igz8Rfzg67PjAP/3qm0mMpnHMaed4O3/wMRSCUrdzTbhRSaiTTKd1qyAE7Yc4Xusqg==", "session"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user2@test.com"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 67ms (ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 18:18:22 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 39.1ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:18:25 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  Rendered chats/_navside.html.erb (42.4ms)
  Rendered chats/index.html.erb within layouts/application (44.1ms)
Completed 500 Internal Server Error in 68ms (ActiveRecord: 0.6ms)

ActionView::Template::Error (undefined local variable or method `newfriends_active' for #<#<Class:0x00007fd56be6a5a8>:0x00007fd570efe118>
Did you mean?  @newfriends):
     7:       <li class=<%= chat_active %>>
     8:         <a href="#chat-tab" data-toggle="tab"><i class="fa fa-weixin"></i>聊天</a>
     9:       </li>
    10:       <li class=<%= newfriends_active %>>
    11:         <a href="#newfriends-tab" data-toggle="tab"><i class="fa fa-group"></i>好友申请</a>
    12:       </li>
    13:       <li class=<%= apply_active %>>
  app/views/chats/_navside.html.erb:10:in `_app_views_chats__navside_html_erb__2462788059829304219_70277349648160'
  app/views/chats/index.html.erb:3:in `_app_views_chats_index_html_erb__2605010718379034990_70277285855700'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (72.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (52.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (122.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:20:15 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (21.4ms)
  Rendered chats/index.html.erb within layouts/application (23.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 66ms (Views: 62.8ms | ActiveRecord: 0.7ms)


Started GET "/users/index_json?query=user3" for 127.0.0.1 at 2018-12-10 18:20:33 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user3"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 2) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 2) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user3%')  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.4ms)


Started POST "/friendships?friend_id=3" for 127.0.0.1 at 2018-12-10 18:20:35 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"+zoKaDt6zUKxuWzl3LiGdn5D7RHdyUjCqXNOh8l0CgtTRUTIqDHN9eDRm5i8CIUdN5kKoA+/LY0pnw8xRSmUOA==", "friend_id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 3], ["user_id", 2], ["created_at", "2018-12-10 10:20:35.210703"], ["updated_at", "2018-12-10 10:20:35.210703"]]
  [1m[35m (1.2ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:20:35 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.4ms)
  Rendered chats/index.html.erb within layouts/application (9.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 51.9ms | ActiveRecord: 0.5ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-10 18:20:52 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6yklsmO9DKhNfWT+a8MBzINeegPyp9p1TUZnEhwKxEhDVmsS8PYMHxwVk4MLcwKnyoSdsiDRvzrNqiakkFdaew==", "users"=>"1", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 4]]
Redirected to http://localhost:3000/chats/4
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)


Started GET "/chats/4" for 127.0.0.1 at 2018-12-10 18:20:52 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 4], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.9ms)
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered sync/messages/refetch/_message_row.html.erb (2.7ms)
  Rendered chats/_chat_info.html.erb (1.6ms)
  Rendered chats/show.html.erb within layouts/application (19.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 58.9ms | ActiveRecord: 1.0ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-10 18:21:00 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/2
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-10 18:21:00 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (13.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 58.6ms | ActiveRecord: 0.2ms)


Started GET "/chats/4" for 127.0.0.1 at 2018-12-10 18:21:17 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 4], ["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 4]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.2ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered sync/messages/refetch/_message_row.html.erb (0.8ms)
  Rendered chats/_chat_info.html.erb (1.4ms)
  Rendered chats/show.html.erb within layouts/application (15.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 61ms (Views: 56.5ms | ActiveRecord: 0.6ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-10 18:21:39 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Qu62cdJmcS21o6KIkDDhhT79rwx1r201ruR/kR5xPFvqkfjRQS1xmuTLVfXwgOLudydIvafZCHouCD4nkiyiaA==", "users"=>"3", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 4]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user3@test.com') AND "users"."id" != 3) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user2@test.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "chats" ("admin_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["admin_id", 2], ["name", "user3-user2"], ["created_at", "2018-12-10 10:21:39.595651"], ["updated_at", "2018-12-10 10:21:39.595651"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["chat_id", 5], ["created_at", "2018-12-10 10:21:39.597069"], ["updated_at", "2018-12-10 10:21:39.597069"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 2], ["chat_id", 5], ["created_at", "2018-12-10 10:21:39.598132"], ["updated_at", "2018-12-10 10:21:39.598132"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats/5
Completed 302 Found in 17ms (ActiveRecord: 2.5ms)


Started GET "/chats/5" for 127.0.0.1 at 2018-12-10 18:21:39 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 5], ["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 5]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.3ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 5]]
  Rendered chats/_chat_info.html.erb (1.6ms)
  Rendered chats/show.html.erb within layouts/application (12.5ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 66.3ms | ActiveRecord: 0.6ms)


Started GET "/chats/4" for 127.0.0.1 at 2018-12-10 18:21:41 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 4], ["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 4]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.2ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered sync/messages/refetch/_message_row.html.erb (0.7ms)
  Rendered chats/_chat_info.html.erb (1.5ms)
  Rendered chats/show.html.erb within layouts/application (15.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 65ms (Views: 57.3ms | ActiveRecord: 0.9ms)


Started GET "/chats/5" for 127.0.0.1 at 2018-12-10 18:21:42 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.2ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 5], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.8ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 5]]
  Rendered chats/_chat_info.html.erb (1.7ms)
  Rendered chats/show.html.erb within layouts/application (14.4ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 64ms (Views: 57.9ms | ActiveRecord: 1.0ms)


Started GET "/chats/4" for 127.0.0.1 at 2018-12-10 18:21:43 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 4], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.5ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered sync/messages/refetch/_message_row.html.erb (0.9ms)
  Rendered chats/_chat_info.html.erb (1.6ms)
  Rendered chats/show.html.erb within layouts/application (17.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 68ms (Views: 60.9ms | ActiveRecord: 1.1ms)


Started GET "/chats/5" for 127.0.0.1 at 2018-12-10 18:21:43 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 5], ["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 5]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.7ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 5]]
  Rendered chats/_chat_info.html.erb (1.5ms)
  Rendered chats/show.html.erb within layouts/application (13.1ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 64ms (Views: 56.3ms | ActiveRecord: 1.2ms)


Started GET "/chats/4" for 127.0.0.1 at 2018-12-10 18:21:45 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 4], ["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 4]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (8.1ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered sync/messages/refetch/_message_row.html.erb (1.3ms)
  Rendered chats/_chat_info.html.erb (1.5ms)
  Rendered chats/show.html.erb within layouts/application (19.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 70ms (Views: 61.2ms | ActiveRecord: 1.2ms)


Started GET "/chats/4" for 127.0.0.1 at 2018-12-10 18:21:47 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 4], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.6ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered sync/messages/refetch/_message_row.html.erb (1.1ms)
  Rendered chats/_chat_info.html.erb (1.8ms)
  Rendered chats/show.html.erb within layouts/application (17.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 64ms (Views: 59.3ms | ActiveRecord: 0.7ms)


Started DELETE "/chats/4" for 127.0.0.1 at 2018-12-10 18:21:56 +0800
Processing by ChatsController#destroy as HTML
  Parameters: {"authenticity_token"=>"X0KwJtY6+HH48t0txBWOICgR32dSy8vBg8NNFIWF0bj3Pf6GRXH4xqmaKlCkpY1LYcs41oC9ro4DLwyiCdhPiw==", "id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 4]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "messages" WHERE "messages"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "chats_users" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "chats" WHERE "chats"."id" = ?  [["id", 4]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 8ms (ActiveRecord: 2.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:21:56 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.5ms)
  Rendered chats/index.html.erb within layouts/application (8.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 63ms (Views: 60.2ms | ActiveRecord: 0.4ms)


Started GET "/chats/5" for 127.0.0.1 at 2018-12-10 18:22:00 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 5], ["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 5]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.6ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 5]]
  Rendered chats/_chat_info.html.erb (1.7ms)
  Rendered chats/show.html.erb within layouts/application (13.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 63ms (Views: 54.7ms | ActiveRecord: 1.1ms)


Started DELETE "/chats/5" for 127.0.0.1 at 2018-12-10 18:22:03 +0800
Processing by ChatsController#destroy as HTML
  Parameters: {"authenticity_token"=>"QidgpZKDOuMy95rKdah4YtBQXAQgVT2sS59ufWkz42PqWC4FAcg6VGOfbbcVGHsJmYq7tfIjWOPLcy/L5W59UA==", "id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 5]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "chats_users" WHERE "chats_users"."chat_id" = ?  [["chat_id", 5]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "chats" WHERE "chats"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 5ms (ActiveRecord: 1.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:22:03 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.1ms)
  Rendered chats/index.html.erb within layouts/application (7.5ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 47.2ms | ActiveRecord: 0.3ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-10 18:22:26 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FG4R5lyx2HPh4eqmcK5cvNdQPUWLWMdxXitL7z4gR368EV9Gz/rYxLCJHdsQHl/Xnora9Fkuoj7exwpZsn3ZTQ==", "users"=>"1", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user2@test.com') AND "users"."id" != 2) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "chats" ("admin_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["admin_id", 2], ["name", "user1-user2"], ["created_at", "2018-12-10 10:22:26.016524"], ["updated_at", "2018-12-10 10:22:26.016524"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 1], ["chat_id", 6], ["created_at", "2018-12-10 10:22:26.017604"], ["updated_at", "2018-12-10 10:22:26.017604"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["chat_id", 6], ["created_at", "2018-12-10 10:22:26.021241"], ["updated_at", "2018-12-10 10:22:26.021241"]]
  [1m[35m (1.0ms)[0m  commit transaction
Redirected to http://localhost:3000/chats/6
Completed 302 Found in 13ms (ActiveRecord: 2.0ms)


Started GET "/chats/6" for 127.0.0.1 at 2018-12-10 18:22:26 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 6], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.4ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 6]]
  Rendered chats/_chat_info.html.erb (1.5ms)
  Rendered chats/show.html.erb within layouts/application (12.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 59ms (Views: 53.9ms | ActiveRecord: 0.7ms)


Started GET "/chats/6" for 127.0.0.1 at 2018-12-10 18:22:39 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 6], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.0ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 6]]
  Rendered chats/_chat_info.html.erb (1.4ms)
  Rendered chats/show.html.erb within layouts/application (12.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 51.6ms | ActiveRecord: 0.6ms)


Started GET "/chats/6" for 127.0.0.1 at 2018-12-10 18:22:39 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 6], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.8ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 6]]
  Rendered chats/_chat_info.html.erb (1.5ms)
  Rendered chats/show.html.erb within layouts/application (12.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 59ms (Views: 54.2ms | ActiveRecord: 0.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:24:09 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (19.4ms)
  Rendered chats/index.html.erb within layouts/application (21.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 100ms (Views: 63.0ms | ActiveRecord: 1.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:24:09 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.3ms)
  Rendered chats/index.html.erb within layouts/application (7.8ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 48.5ms | ActiveRecord: 0.3ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-10 18:24:22 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"9Hs4BeIpU/ar1hpcA0gs5Y6e18DN8ia7wBg1qE5ItyFcBHalcWJTQfq+7SFj+C+Ox0QwcR+EQ/RA9HQewhUpEg==", "users"=>"1", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 6]]
Redirected to http://localhost:3000/chats/6
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)


Started GET "/chats/6" for 127.0.0.1 at 2018-12-10 18:24:22 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 6], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.6ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 6]]
  Rendered chats/_chat_info.html.erb (1.5ms)
  Rendered chats/show.html.erb within layouts/application (13.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 69ms (Views: 54.8ms | ActiveRecord: 1.2ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-10 18:27:27 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"e6BNSANalg3FJqzESYc7Qc6Do7pIgesevW4oyXTCoOXT3wPokBGWupROW7kpNzgqh1lEC5r3jlE9gml/+J8+1g==", "users"=>"1", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 6]]
Redirected to http://localhost:3000/chats/6
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)


Started GET "/chats/6" for 127.0.0.1 at 2018-12-10 18:27:27 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 6], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.3ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 6]]
  Rendered chats/_chat_info.html.erb (1.6ms)
  Rendered chats/show.html.erb within layouts/application (13.0ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 51.6ms | ActiveRecord: 0.7ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-10 18:27:31 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"D4D+ULj9gOC6v+wa3ABIKVJ+nTvxF13xkvnfPuVebFin/7DwK7aAV+vXG2e8sEtCG6R6iiNhOL4SFZ6IaQPyaw==", "users"=>"3", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 6]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user3@test.com') AND "users"."id" != 3) LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user2@test.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "chats" ("admin_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["admin_id", 2], ["name", "user3-user2"], ["created_at", "2018-12-10 10:27:31.861250"], ["updated_at", "2018-12-10 10:27:31.861250"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 3], ["chat_id", 7], ["created_at", "2018-12-10 10:27:31.862437"], ["updated_at", "2018-12-10 10:27:31.862437"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 2], ["chat_id", 7], ["created_at", "2018-12-10 10:27:31.863407"], ["updated_at", "2018-12-10 10:27:31.863407"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats/7
Completed 302 Found in 14ms (ActiveRecord: 2.5ms)


Started GET "/chats/7" for 127.0.0.1 at 2018-12-10 18:27:31 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 7], ["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 7]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.9ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 7]]
  Rendered chats/_chat_info.html.erb (1.5ms)
  Rendered chats/show.html.erb within layouts/application (13.2ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 52.4ms | ActiveRecord: 0.7ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-10 18:28:12 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"VqORXYPdAK4TjyreFc8pWoS6coTXksGxRCuhjuoU6RH+3N/9EJYAGULn3aN1fyoxzWCVNQXkpP7Ex+A4Zkl3Ig=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 18:28:12 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-10 18:28:25 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lcydPqDoHc8Iu0ThhSPqLDPp2UGhjDBXwULiRELtlpc9s9OeM6MdeFnTs5zlk+lHejM+8HP6VRhBrqPyzrAIpA==", "session"=>{"email"=>"user3@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user3@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 58ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 18:28:26 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 51.5ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:28:28 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 3]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 3]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.8ms)
  Rendered chats/index.html.erb within layouts/application (9.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 53.9ms | ActiveRecord: 0.5ms)


Started DELETE "/friendships/1" for 127.0.0.1 at 2018-12-10 18:28:44 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"G8kz9RaeTSPoUW2xBXmnpGY4jbH2Y9qYO5xUk80SPG6ztn1VhdVNlLk5msxlyaTPL+JqACQVv9e7cBUlQU+iXQ==", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mFriendship Load (0.2ms)[0m  SELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1  [["user_id", 3], ["friend_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 7]]
  [1m[35mFriendship Load (0.1ms)[0m  SELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1  [["user_id", 1], ["friend_id", 3]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "friendships" WHERE "friendships"."id" = ?  [["id", 2]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 10ms (ActiveRecord: 2.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:28:44 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 3]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 3]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.7ms)
  Rendered chats/index.html.erb within layouts/application (7.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 48.0ms | ActiveRecord: 0.4ms)


Started DELETE "/friendships/2" for 127.0.0.1 at 2018-12-10 18:28:46 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ok6bBY61oYsSAjfbFcwrrqM9628KagsEh3PSW7fsLp0KMdWlHf6hPENqwKZ1fCjF6ucM3tgcbksHn5PtO7Gwrg==", "id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 3], ["friend_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 7]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 7]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "chats_users" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 7]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "chats" WHERE "chats"."id" = ?  [["id", 7]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35mFriendship Load (0.1ms)[0m  SELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1  [["user_id", 2], ["friend_id", 3]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "friendships" WHERE "friendships"."id" = ?  [["id", 5]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 12ms (ActiveRecord: 4.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:28:46 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 3]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 3]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.9ms)
  Rendered chats/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 45.3ms | ActiveRecord: 0.4ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-10 18:28:51 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"mTF+AFdub7XxUfjHLZ/bpKvime6WibcrQ5waELuz3hgxTjCgxCVvAqA5D7pNL9jP4jh+X0T/0mTDcFumN+5AKw=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 18:28:51 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.3ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-10 18:29:04 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lq5N2UmWL33FeaNlDPFq+GzR06bx7vjyMEhFfAhWmw8+0QN52t0vypQRVBhsQWmTJQs0FyOYnb2wpATKhAsFPA==", "session"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user2@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 58ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 18:29:04 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 34ms (Views: 34.0ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:29:07 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.9ms)
  Rendered chats/index.html.erb within layouts/application (7.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 51.4ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 18:44:32 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 49.7ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:44:37 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.4ms)
  Rendered chats/index.html.erb within layouts/application (9.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 51.0ms | ActiveRecord: 0.5ms)


Started GET "/users/2?friend_id=1&flag=2" for 127.0.0.1 at 2018-12-10 18:44:39 +0800
Processing by UsersController#show as HTML
  Parameters: {"friend_id"=>"1", "flag"=>"2", "id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (13.8ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 61ms (Views: 59.1ms | ActiveRecord: 0.2ms)


Started GET "/users/2?friend_id=1&flag=2" for 127.0.0.1 at 2018-12-10 18:44:48 +0800
Processing by UsersController#show as HTML
  Parameters: {"friend_id"=>"1", "flag"=>"2", "id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (12.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 56.9ms | ActiveRecord: 0.2ms)


Started GET "/users/index_json?query=user3" for 127.0.0.1 at 2018-12-10 18:45:00 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user3"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 2) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 2) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user3%')[0m  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.5ms)


Started POST "/friendships?friend_id=30" for 127.0.0.1 at 2018-12-10 18:45:03 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"dH2hzZIQbZO5abak5RdkCh2Sg9KDJAQBlglRdmM7YQ3cAu9tAVttJOgBQdmFp2dhVEhkY1FSYU4W5RDA72b/Pg==", "friend_id"=>"30"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 30], ["user_id", 2], ["created_at", "2018-12-10 10:45:03.266656"], ["updated_at", "2018-12-10 10:45:03.266656"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 5ms (ActiveRecord: 1.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:45:03 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.1ms)
  Rendered chats/index.html.erb within layouts/application (8.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 49.8ms | ActiveRecord: 0.4ms)


Started GET "/users/2?friend_id=30&flag=2" for 127.0.0.1 at 2018-12-10 18:45:05 +0800
Processing by UsersController#show as HTML
  Parameters: {"friend_id"=>"30", "flag"=>"2", "id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (12.6ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 65ms (Views: 61.6ms | ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:45:54 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.8ms)
  Rendered chats/index.html.erb within layouts/application (9.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 61ms (Views: 55.2ms | ActiveRecord: 0.6ms)


Started GET "/users/2?friend_id=30&flag=2" for 127.0.0.1 at 2018-12-10 18:46:01 +0800
Processing by UsersController#show as HTML
  Parameters: {"friend_id"=>"30", "flag"=>"2", "id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (13.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 69.4ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 18:46:58 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (32.3ms)
  Rendered layouts/_login_panel.html.erb (7.8ms)
  Rendered layouts/_header.html.erb (11.6ms)
  Rendered layouts/_content.html.erb (0.6ms)
Completed 200 OK in 403ms (Views: 381.3ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:46:58 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.5ms)
  Rendered chats/_navside.html.erb (24.4ms)
  Rendered chats/index.html.erb within layouts/application (26.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 116ms (Views: 72.4ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 18:46:58 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (1.0ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 65ms (Views: 65.0ms | ActiveRecord: 0.1ms)


Started GET "/users/2?friend_id=30&flag=2" for 127.0.0.1 at 2018-12-10 18:47:07 +0800
Processing by UsersController#show as HTML
  Parameters: {"friend_id"=>"30", "flag"=>"2", "id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (268.3ms)
  Rendered layouts/_login_panel.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 305ms (Views: 302.8ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:47:09 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.9ms)
  Rendered chats/index.html.erb within layouts/application (8.5ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 49.3ms | ActiveRecord: 0.4ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-10 18:47:10 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (10.2ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 51.0ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:53:27 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (8.1ms)
  Rendered chats/index.html.erb within layouts/application (9.6ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 49.6ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-10 18:56:33 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 39ms (Views: 38.1ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:56:33 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.2ms)
  Rendered chats/index.html.erb within layouts/application (7.7ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 57.2ms | ActiveRecord: 0.4ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-10 18:56:36 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (11.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 54.2ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-10 18:56:38 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.8ms)
  Rendered chats/index.html.erb within layouts/application (8.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 52.9ms | ActiveRecord: 0.4ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-10 18:56:40 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
Redirected to http://localhost:3000/users/2
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-10 18:56:40 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (10.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 54.1ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 13:34:52 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (13.3ms)
  Rendered layouts/_login_panel.html.erb (6.1ms)
  Rendered layouts/_header.html.erb (13.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
Completed 200 OK in 175ms (Views: 171.1ms | ActiveRecord: 0.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 13:34:52 +0800
Processing by ChatsController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 13:35:13 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HpjY99+evbeXXjB3IPSg4fvpw2Ddpx/hh7sTHLYKcoxiypBCjr+mqjT2KojGFkKptBvgh3uFpEyOuMWhAkZ+3Q==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
Can't verify CSRF token authenticity
Completed 422 Unprocessable Entity in 5ms (ActiveRecord: 0.0ms)

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  actionpack (4.2.5.2) lib/action_controller/metal/request_forgery_protection.rb:181:in `handle_unverified_request'
  actionpack (4.2.5.2) lib/action_controller/metal/request_forgery_protection.rb:209:in `handle_unverified_request'
  actionpack (4.2.5.2) lib/action_controller/metal/request_forgery_protection.rb:204:in `verify_authenticity_token'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:432:in `block in make_lambda'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:164:in `block in halting'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:504:in `block in call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:504:in `each'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:504:in `call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.5.2) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.5.2) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.5.2) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.5.2) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.5.2) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.5.2) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:815:in `call'
  rack-pjax (0.8.0) lib/rack/pjax.rb:12:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  remotipart (1.2.1) lib/remotipart/middleware.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.5.2) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.5.2) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.5.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.5.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.5.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.5.2) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  thin (1.7.0) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.7.0) lib/thin/connection.rb:84:in `catch'
  thin (1.7.0) lib/thin/connection.rb:84:in `pre_process'
  thin (1.7.0) lib/thin/connection.rb:53:in `process'
  thin (1.7.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run_machine'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run'
  thin (1.7.0) lib/thin/backends/base.rb:73:in `start'
  thin (1.7.0) lib/thin/server.rb:162:in `start'
  rack (1.6.5) lib/rack/handler/thin.rb:19:in `run'
  rack (1.6.5) lib/rack/server.rb:286:in `start'
  railties (4.2.5.2) lib/rails/commands/server.rb:80:in `start'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:80:in `block in server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `tap'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:39:in `run_command!'
  railties (4.2.5.2) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.9ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (68.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (51.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (118.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 13:35:34 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 64ms (Views: 64.0ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 13:35:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JGryXwZNbl4JgffKgAa+jHWv5K4aUj776eJrgemzxuVh6X7AQSt1rlvHBeI5irdKL5WE7lP9eflNf/WBkdJnSg==", "session"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (2.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user2@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 64ms (ActiveRecord: 2.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 13:35:49 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 33ms (Views: 32.4ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 13:35:55 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (16.0ms)
  Rendered chats/index.html.erb within layouts/application (17.9ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 68ms (Views: 63.5ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 13:35:55 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.8ms)
  Rendered chats/index.html.erb within layouts/application (8.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 66ms (Views: 63.1ms | ActiveRecord: 0.3ms)


Started GET "/chats/6" for 127.0.0.1 at 2018-12-11 13:36:08 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.2ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 6], ["id", 2]]
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (8.2ms)
  [1m[35mMessage Load (0.7ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 6]]
  Rendered chats/_chat_info.html.erb (2.9ms)
  Rendered chats/show.html.erb within layouts/application (19.8ms)
  Rendered layouts/_login_panel.html.erb (1.3ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 106ms (Views: 78.0ms | ActiveRecord: 2.5ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:43:30 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.2ms)
Completed 200 OK in 55ms (Views: 53.7ms | ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:44:44 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 35.3ms | ActiveRecord: 0.1ms)


Started GET "/chats/6" for 127.0.0.1 at 2018-12-11 13:44:47 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 6], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.0ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 6]]
  Rendered chats/_chat_info.html.erb (1.4ms)
  Rendered chats/show.html.erb within layouts/application (14.2ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 62ms (Views: 55.7ms | ActiveRecord: 0.9ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:44:51 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 45.2ms | ActiveRecord: 0.2ms)


Started GET "/users/2/edit" for 127.0.0.1 at 2018-12-11 13:44:53 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/edit.html.erb within layouts/application (15.2ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 64ms (Views: 62.7ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 13:45:12 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.2ms)
  Rendered chats/index.html.erb within layouts/application (8.8ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 50.1ms | ActiveRecord: 0.5ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:45:14 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 45ms (Views: 43.5ms | ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:45:46 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (6.1ms)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.2ms)

ActionView::Template::Error (undefined method `stringify_keys' for "编辑":String):
    10: <h2>性别</h2>
    11: <%= @user.sex %>
    12: 
    13: <%= link_to 'Edit',edit_user_path(@user), '编辑' %>
  app/views/users/show.html.erb:13:in `_app_views_users_show_html_erb__176550622143795415_70249483257020'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (66.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (49.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (110.4ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:46:41 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.8ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 53.3ms | ActiveRecord: 0.4ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:47:04 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 33ms (Views: 31.7ms | ActiveRecord: 0.1ms)


Started GET "/chats/6" for 127.0.0.1 at 2018-12-11 13:47:04 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 6], ["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.2ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 6]]
  Rendered chats/_chat_info.html.erb (1.4ms)
  Rendered chats/show.html.erb within layouts/application (12.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 51.1ms | ActiveRecord: 0.7ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:47:04 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.2ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 36.9ms | ActiveRecord: 0.2ms)


Started GET "/users/2/edit" for 127.0.0.1 at 2018-12-11 13:47:05 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/edit.html.erb within layouts/application (10.4ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 52.8ms | ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:47:24 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 34ms (Views: 32.2ms | ActiveRecord: 0.1ms)


Started GET "/users/2/edit" for 127.0.0.1 at 2018-12-11 13:47:34 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/edit.html.erb within layouts/application (12.4ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 55.6ms | ActiveRecord: 0.3ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:47:38 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 44ms (Views: 41.6ms | ActiveRecord: 0.3ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:48:07 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 29.1ms | ActiveRecord: 0.1ms)


Started GET "/users/2/edit" for 127.0.0.1 at 2018-12-11 13:48:09 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/edit.html.erb within layouts/application (10.6ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 59.1ms | ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:48:58 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)

SyntaxError (/Users/zhangyin/git/RailsChat/app/views/users/show.html.erb:12: syntax error, unexpected tLABEL, expecting '='
...append=( @user.sex, collection: [['男', 'male'], ['女', 'f...
...                               ^):
  app/views/users/show.html.erb:12: syntax error, unexpected tLABEL, expecting '='


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (105.6ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:49:35 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 35ms (Views: 34.3ms | ActiveRecord: 0.1ms)


Started GET "/users/2/edit" for 127.0.0.1 at 2018-12-11 13:49:38 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/edit.html.erb within layouts/application (14.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 58.8ms | ActiveRecord: 0.2ms)


Started PATCH "/users/2" for 127.0.0.1 at 2018-12-11 13:50:31 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7pMv8dVEgXur3UP87wWMp+LosrZZ6HjMbbh1xtEbDDurEKNukiKai/mbsdRWiYVhuNLS9hBHP87JJevGqXqtlA==", "user"=>{"name"=>"user2", "email"=>"user2@test.com", "password"=>"[FILTERED]", "phonenumber"=>"(288) 384-9798", "sex"=>"male"}, "commit"=>"更新信息", "id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user2@test.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$10$57ZsLZbP0tFJo60CdGMW4uLfEIFrQ4fXpspkPj8SDnR.8UfPQsgpa"], ["updated_at", "2018-12-11 05:50:31.703518"], ["id", 2]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 67ms (ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 13:50:31 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 41ms (Views: 40.0ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 13:50:36 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (8.3ms)
  Rendered chats/index.html.erb within layouts/application (9.9ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 54.0ms | ActiveRecord: 0.4ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:50:37 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 41ms (Views: 40.1ms | ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:50:53 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.0ms)
Completed 200 OK in 29ms (Views: 28.5ms | ActiveRecord: 0.1ms)


Started GET "/users/2/edit" for 127.0.0.1 at 2018-12-11 13:50:58 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/edit.html.erb within layouts/application (9.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 59.3ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 13:51:04 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 46.4ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:51:07 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 46.0ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 13:51:09 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (7.8ms)
  Rendered chats/index.html.erb within layouts/application (9.3ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 50.2ms | ActiveRecord: 0.5ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-11 13:51:11 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Vc7lOjQoU41OKkDRoapCTqxxdDvNT+OMnmiKqUgX9/cQTWmlc05IfRxssvkYJkuI9ksUe4TgpI469RSpMHZWWA==", "users"=>"1", "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 6]]
Redirected to http://localhost:3000/chats/6
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/chats/6" for 127.0.0.1 at 2018-12-11 13:51:11 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 6], ["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 6]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.1ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 6]]
  Rendered chats/_chat_info.html.erb (1.5ms)
  Rendered chats/show.html.erb within layouts/application (12.6ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 51.9ms | ActiveRecord: 0.6ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 13:51:16 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/2
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:51:16 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 45ms (Views: 43.4ms | ActiveRecord: 0.2ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-11 13:55:17 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IcbOP8Q64eqIDOrxPnxCWXWxRlLCVOz+/ksfaJPATKNkRUKgg1z6GtpKGNmH8EufL4smEov7q/xa1oFo66HtDA==", "users"=>"1", "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 6]]
Redirected to http://localhost:3000/chats/6
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/chats/6" for 127.0.0.1 at 2018-12-11 13:55:17 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1  [["chat_id", 6], ["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 6]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.6ms)
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 6]]
  Rendered chats/_chat_info.html.erb (1.6ms)
  Rendered chats/show.html.erb within layouts/application (13.5ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 55.0ms | ActiveRecord: 0.7ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 13:55:21 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/2
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:55:21 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 46ms (Views: 44.5ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 13:55:24 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 46.6ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:55:26 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.2ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 45ms (Views: 43.3ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 13:55:27 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.1ms)
  Rendered chats/index.html.erb within layouts/application (7.7ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 47.5ms | ActiveRecord: 0.5ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 13:57:58 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 41.7ms | ActiveRecord: 1.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 13:58:02 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (21.3ms)
  Rendered chats/index.html.erb within layouts/application (23.2ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 80ms (Views: 64.7ms | ActiveRecord: 1.3ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 13:58:05 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
Redirected to http://localhost:3000/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 13:58:05 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 48.9ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 13:58:08 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.7ms)
  Rendered chats/index.html.erb within layouts/application (9.9ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 59ms (Views: 55.0ms | ActiveRecord: 0.4ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 13:59:26 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/chats/2
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 15ms (ActiveRecord: 0.7ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-11 13:59:26 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/chats
Filter chain halted as :set_chat rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 13:59:26 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.1ms)
  Rendered chats/index.html.erb within layouts/application (17.8ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 72ms (Views: 59.9ms | ActiveRecord: 1.1ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 13:59:31 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/chats/2
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/chats/2" for 127.0.0.1 at 2018-12-11 13:59:31 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/chats
Filter chain halted as :set_chat rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 13:59:31 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (8.7ms)
  Rendered chats/index.html.erb within layouts/application (10.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 65ms (Views: 59.8ms | ActiveRecord: 0.8ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 13:59:46 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/chats/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 14ms (ActiveRecord: 0.7ms)


Started GET "/chats/1" for 127.0.0.1 at 2018-12-11 13:59:46 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 1]]
Redirected to http://localhost:3000/chats
Filter chain halted as :set_chat rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 13:59:46 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (15.5ms)
  Rendered chats/index.html.erb within layouts/application (17.2ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 73ms (Views: 61.5ms | ActiveRecord: 1.1ms)


Started GET "/users/30" for 127.0.0.1 at 2018-12-11 13:59:51 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/chats/30
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/chats/30" for 127.0.0.1 at 2018-12-11 13:59:51 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1[0m  [["id", 30]]
Redirected to http://localhost:3000/chats
Filter chain halted as :set_chat rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 13:59:51 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (7.8ms)
  Rendered chats/index.html.erb within layouts/application (9.5ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 50.8ms | ActiveRecord: 0.6ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:00:48 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/friendships/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 14ms (ActiveRecord: 0.7ms)


Started GET "/friendships/1" for 127.0.0.1 at 2018-12-11 14:00:48 +0800

AbstractController::ActionNotFound (The action 'show' could not be found for FriendshipsController):
  actionpack (4.2.5.2) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.5.2) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:815:in `call'
  rack-pjax (0.8.0) lib/rack/pjax.rb:12:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  remotipart (1.2.1) lib/remotipart/middleware.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.5.2) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.5.2) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.5.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.5.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.5.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.5.2) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  thin (1.7.0) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.7.0) lib/thin/connection.rb:84:in `catch'
  thin (1.7.0) lib/thin/connection.rb:84:in `pre_process'
  thin (1.7.0) lib/thin/connection.rb:53:in `process'
  thin (1.7.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run_machine'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run'
  thin (1.7.0) lib/thin/backends/base.rb:73:in `start'
  thin (1.7.0) lib/thin/server.rb:162:in `start'
  rack (1.6.5) lib/rack/handler/thin.rb:19:in `run'
  rack (1.6.5) lib/rack/server.rb:286:in `start'
  railties (4.2.5.2) lib/rails/commands/server.rb:80:in `start'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:80:in `block in server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `tap'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:39:in `run_command!'
  railties (4.2.5.2) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (47.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (107.5ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:01:25 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/friendships/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/friendships/1" for 127.0.0.1 at 2018-12-11 14:01:25 +0800

AbstractController::ActionNotFound (The action 'show' could not be found for FriendshipsController):
  actionpack (4.2.5.2) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.5.2) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:815:in `call'
  rack-pjax (0.8.0) lib/rack/pjax.rb:12:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  remotipart (1.2.1) lib/remotipart/middleware.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.5.2) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.5.2) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.5.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.5.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.5.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.5.2) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  thin (1.7.0) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.7.0) lib/thin/connection.rb:84:in `catch'
  thin (1.7.0) lib/thin/connection.rb:84:in `pre_process'
  thin (1.7.0) lib/thin/connection.rb:53:in `process'
  thin (1.7.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run_machine'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run'
  thin (1.7.0) lib/thin/backends/base.rb:73:in `start'
  thin (1.7.0) lib/thin/server.rb:162:in `start'
  rack (1.6.5) lib/rack/handler/thin.rb:19:in `run'
  rack (1.6.5) lib/rack/server.rb:286:in `start'
  railties (4.2.5.2) lib/rails/commands/server.rb:80:in `start'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:80:in `block in server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `tap'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:39:in `run_command!'
  railties (4.2.5.2) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (44.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (99.7ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:01:31 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/friendships/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/friendships/1" for 127.0.0.1 at 2018-12-11 14:01:31 +0800

AbstractController::ActionNotFound (The action 'show' could not be found for FriendshipsController):
  actionpack (4.2.5.2) lib/abstract_controller/base.rb:132:in `process'
  actionview (4.2.5.2) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:815:in `call'
  rack-pjax (0.8.0) lib/rack/pjax.rb:12:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  remotipart (1.2.1) lib/remotipart/middleware.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.5.2) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.5.2) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.5.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.5.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.5.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.5.2) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  thin (1.7.0) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.7.0) lib/thin/connection.rb:84:in `catch'
  thin (1.7.0) lib/thin/connection.rb:84:in `pre_process'
  thin (1.7.0) lib/thin/connection.rb:53:in `process'
  thin (1.7.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run_machine'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run'
  thin (1.7.0) lib/thin/backends/base.rb:73:in `start'
  thin (1.7.0) lib/thin/server.rb:162:in `start'
  rack (1.6.5) lib/rack/handler/thin.rb:19:in `run'
  rack (1.6.5) lib/rack/server.rb:286:in `start'
  railties (4.2.5.2) lib/rails/commands/server.rb:80:in `start'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:80:in `block in server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `tap'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:39:in `run_command!'
  railties (4.2.5.2) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (47.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (105.8ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:01:37 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/2
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 14:01:37 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 41.8ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:01:42 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/2
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 14:01:42 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 45.5ms | ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 14:03:06 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 40.0ms | ActiveRecord: 0.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:03:09 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (20.8ms)
  Rendered chats/index.html.erb within layouts/application (22.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 92ms (Views: 75.9ms | ActiveRecord: 1.5ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:03:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/users/1
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 14:05:14 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_content.html.erb (0.3ms)
Completed 200 OK in 38ms (Views: 37.4ms | ActiveRecord: 0.1ms)


Started GET "/users/" for 127.0.0.1 at 2018-12-11 14:05:14 +0800
Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)

ActionView::MissingTemplate (Missing template users/index, application/index with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder, :haml]}. Searched in:
  * "/Users/zhangyin/git/RailsChat/app/views"
  * "/Library/Ruby/Gems/2.3.0/gems/rails_admin-0.8.1/app/views"
  * "/Library/Ruby/Gems/2.3.0/gems/kaminari-0.16.3/app/views"
):
  actionview (4.2.5.2) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.5.2) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.5.2) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.5.2) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.5.2) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.5.2) lib/action_view/renderer/renderer.rb:46:in `render_template'
  actionview (4.2.5.2) lib/action_view/renderer/renderer.rb:27:in `render'
  actionview (4.2.5.2) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.5.2) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.5.2) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.5.2) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.5.2) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.5.2) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.5.2) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:44:in `block (2 levels) in render'
  activesupport (4.2.5.2) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /System/Library/Frameworks/Ruby.framework/Versions/2.3/usr/lib/ruby/2.3.0/benchmark.rb:308:in `realtime'
  activesupport (4.2.5.2) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:44:in `block in render'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:87:in `cleanup_view_runtime'
  activerecord (4.2.5.2) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:43:in `render'
  remotipart (1.2.1) lib/remotipart/render_overrides.rb:14:in `render_with_remotipart'
  actionpack (4.2.5.2) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.5.2) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.5.2) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.5.2) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:555:in `block (2 levels) in compile'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:505:in `call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:92:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_process_action_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:32:in `block in process_action'
  activesupport (4.2.5.2) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.5.2) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.5.2) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.5.2) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.5.2) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.5.2) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.5.2) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.5.2) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:196:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.5.2) lib/action_controller/metal.rb:237:in `block in action'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:74:in `dispatch'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:43:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.5.2) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.5.2) lib/action_dispatch/routing/route_set.rb:815:in `call'
  rack-pjax (0.8.0) lib/rack/pjax.rb:12:in `call'
  rack (1.6.5) lib/rack/etag.rb:24:in `call'
  rack (1.6.5) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.5) lib/rack/head.rb:13:in `call'
  remotipart (1.2.1) lib/remotipart/middleware.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.5) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.5) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.5.2) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.5.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:653:in `call'
  activerecord (4.2.5.2) lib/active_record/migration.rb:377:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:88:in `__run_callbacks__'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:778:in `_run_call_callbacks'
  activesupport (4.2.5.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.5.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.5.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.5.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.5.2) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  thin (1.7.0) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.7.0) lib/thin/connection.rb:84:in `catch'
  thin (1.7.0) lib/thin/connection.rb:84:in `pre_process'
  thin (1.7.0) lib/thin/connection.rb:53:in `process'
  thin (1.7.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run_machine'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run'
  thin (1.7.0) lib/thin/backends/base.rb:73:in `start'
  thin (1.7.0) lib/thin/server.rb:162:in `start'
  rack (1.6.5) lib/rack/handler/thin.rb:19:in `run'
  rack (1.6.5) lib/rack/server.rb:286:in `start'
  railties (4.2.5.2) lib/rails/commands/server.rb:80:in `start'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:80:in `block in server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `tap'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:39:in `run_command!'
  railties (4.2.5.2) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.0ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (62.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (47.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (109.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:05:23 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 39ms (Views: 38.7ms | ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:05:25 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:05:27 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.6ms)
  Rendered chats/index.html.erb within layouts/application (9.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 53.7ms | ActiveRecord: 0.5ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:05:58 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:05:58 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (19.5ms)
  Rendered chats/index.html.erb within layouts/application (21.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 72ms (Views: 60.7ms | ActiveRecord: 0.9ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:06:01 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:06:01 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.7ms)
  Rendered chats/index.html.erb within layouts/application (8.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 50.2ms | ActiveRecord: 0.5ms)


Started GET "/users/30" for 127.0.0.1 at 2018-12-11 14:06:03 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:06:03 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.4ms)
  Rendered chats/index.html.erb within layouts/application (7.9ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 50.6ms | ActiveRecord: 0.4ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:06:55 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 27ms (ActiveRecord: 1.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:06:55 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (21.9ms)
  Rendered chats/index.html.erb within layouts/application (23.4ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 75ms (Views: 67.0ms | ActiveRecord: 1.2ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:06:57 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:06:57 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.1ms)
  Rendered chats/index.html.erb within layouts/application (8.9ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 65ms (Views: 61.3ms | ActiveRecord: 0.4ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:06:59 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:06:59 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.9ms)
  Rendered chats/index.html.erb within layouts/application (9.7ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 61ms (Views: 56.4ms | ActiveRecord: 0.5ms)


Started GET "/users/30" for 127.0.0.1 at 2018-12-11 14:07:08 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:07:08 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (8.5ms)
  Rendered chats/index.html.erb within layouts/application (10.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 55.2ms | ActiveRecord: 0.5ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 14:07:11 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"GrQu3v+44J+5Y+C3SrZ62s6jWOxbJNwsyVjrkpUbfUZfN6JBuN77b+slEp/zOnMclJk4rBKLmy5txXWS7Xrc6Q=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:07:11 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 42.6ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 14:07:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"69FaBbXKHQDoy7TJ9cWpbjgLIhH2bfzZQZ2b2rYy09auUtaa8qwG8LqNRuFMSaCoYjFCUb/Cu9vlAAXazlNyeQ==", "session"=>{"email"=>"user30@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user30@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 58ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:07:26 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  Rendered homes/home.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 35ms (Views: 34.9ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:07:29 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.7ms)
  Rendered chats/index.html.erb within layouts/application (8.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 52.7ms | ActiveRecord: 0.5ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-11 14:07:32 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UVDi05INrvt7a6IFGL2lk/sABdj2cVOJ+yGHdd0XHXEU025M1Wu1CyktUC2hMaxVoTplmL/eFItfvBl1pXa83g==", "users"=>"2", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user2@test.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user30@test.com') AND "users"."id" != 30) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "chats" ("admin_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["admin_id", 30], ["name", "user2-user30"], ["created_at", "2018-12-11 06:07:32.988219"], ["updated_at", "2018-12-11 06:07:32.988219"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 2], ["chat_id", 8], ["created_at", "2018-12-11 06:07:32.989604"], ["updated_at", "2018-12-11 06:07:32.989604"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 30], ["chat_id", 8], ["created_at", "2018-12-11 06:07:32.990586"], ["updated_at", "2018-12-11 06:07:32.990586"]]
  [1m[35m (2.5ms)[0m  commit transaction
Redirected to http://localhost:3000/chats/8
Completed 302 Found in 26ms (ActiveRecord: 3.7ms)


Started GET "/chats/8" for 127.0.0.1 at 2018-12-11 14:07:33 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mChat Load (0.2ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 8], ["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 8]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 30]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.1ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 8]]
  Rendered chats/_chat_info.html.erb (1.3ms)
  Rendered chats/show.html.erb within layouts/application (11.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 63ms (Views: 51.5ms | ActiveRecord: 1.1ms)


Started GET "/users/index_json?query=user2" for 127.0.0.1 at 2018-12-11 14:07:41 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 30) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 30) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user2%')  [["user_id", 30]]
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.4ms)


Started POST "/friendships?friend_id=2" for 127.0.0.1 at 2018-12-11 14:07:43 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"WQEUQq/7sSIsd8dhFw9TR2y1KY2YHA7WCx6tkPM4gDUcgpjd6J2q0n4xNUmug1qBNo9JzdGzSdSvgzOQi1khmg==", "friend_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 2], ["user_id", 30], ["created_at", "2018-12-11 06:07:43.129967"], ["updated_at", "2018-12-11 06:07:43.129967"]]
  [1m[35m (1.6ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 11ms (ActiveRecord: 2.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:07:43 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.2ms)
  Rendered chats/index.html.erb within layouts/application (9.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 53.8ms | ActiveRecord: 0.4ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-11 14:07:47 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EWkgAt0HuM5vQowv6UV/QAJAiI1UeFSk07dbOFEfeuxU6qydmmGjPj0EfgdQyXaGWHrozR3XE6Z3KsU4KX7bQw==", "users"=>"2", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 8]]
Redirected to http://localhost:3000/chats/8
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/chats/8" for 127.0.0.1 at 2018-12-11 14:07:47 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 8], ["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 8]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 30]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (14.2ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 8]]
  Rendered chats/_chat_info.html.erb (1.5ms)
  Rendered chats/show.html.erb within layouts/application (20.8ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 67ms (Views: 61.0ms | ActiveRecord: 0.7ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 14:07:51 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:07:51 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 30]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.6ms)
  Rendered chats/index.html.erb within layouts/application (8.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 49.7ms | ActiveRecord: 0.4ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 14:10:09 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 18ms (ActiveRecord: 0.7ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:10:09 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (17.0ms)
  Rendered chats/index.html.erb within layouts/application (18.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 65ms (Views: 57.9ms | ActiveRecord: 0.9ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 14:11:21 +0800

SyntaxError (/Users/zhangyin/git/RailsChat/app/controllers/users_controller.rb:67: syntax error, unexpected keyword_in, expecting keyword_then or ';' or '\n'
    unless @user in current_user.friends
                   ^
/Users/zhangyin/git/RailsChat/app/controllers/users_controller.rb:79: syntax error, unexpected keyword_end, expecting end-of-input):
  app/controllers/users_controller.rb:67: syntax error, unexpected keyword_in, expecting keyword_then or ';' or '\n'
  app/controllers/users_controller.rb:79: syntax error, unexpected keyword_end, expecting end-of-input


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (66.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (48.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (107.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:15:38 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (18.1ms)
  Rendered chats/index.html.erb within layouts/application (19.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 87ms (Views: 62.5ms | ActiveRecord: 1.6ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 14:15:40 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:15:40 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.7ms)
  Rendered chats/index.html.erb within layouts/application (6.2ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 50.4ms | ActiveRecord: 0.6ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 14:15:43 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:15:43 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.9ms)
  Rendered chats/index.html.erb within layouts/application (7.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 49.9ms | ActiveRecord: 0.5ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 14:16:03 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 56.6ms | ActiveRecord: 0.7ms)


Started GET "/users/2/edit" for 127.0.0.1 at 2018-12-11 14:16:08 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered users/edit.html.erb within layouts/application (12.4ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 53.8ms | ActiveRecord: 0.2ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-11 14:18:16 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"p0WjnDizGMsBDv2L2upvSd08wQly1yrDbBKcrUyVJRzixi8Df9UDO1NID6NjZmaPhwahSTt4bcHIjwKtNPSEsw==", "users"=>"2", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 8]]
Redirected to http://localhost:3000/chats/8
Completed 302 Found in 33ms (ActiveRecord: 1.2ms)


Started GET "/chats/8" for 127.0.0.1 at 2018-12-11 14:18:16 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 8], ["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 8]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 30]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 30]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.1ms)
  [1m[35mMessage Load (0.2ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 8]]
  Rendered chats/_chat_info.html.erb (1.5ms)
  Rendered chats/show.html.erb within layouts/application (11.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 73ms (Views: 53.3ms | ActiveRecord: 1.3ms)


Started GET "/users/index_json?query=user31" for 127.0.0.1 at 2018-12-11 14:18:28 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user31"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 30) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 30) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user31%')  [["user_id", 30]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started POST "/friendships?friend_id=31" for 127.0.0.1 at 2018-12-11 14:18:30 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"AhORxSGKmXNvJW6Gd0AyFhA8rtYfxZ/AT2ZSMcc9SVxHkB1aZuyCgz1jnK7OzDvQSgbOllZq2MLr+8wxv1zo8w==", "friend_id"=>"31"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 31], ["user_id", 30], ["created_at", "2018-12-11 06:18:30.512169"], ["updated_at", "2018-12-11 06:18:30.512169"]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:18:30 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.9ms)
  Rendered chats/index.html.erb within layouts/application (8.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 50.8ms | ActiveRecord: 0.4ms)


Started GET "/users/31" for 127.0.0.1 at 2018-12-11 14:23:25 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"31"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:23:25 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.3ms)
  Rendered chats/index.html.erb within layouts/application (17.9ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 66ms (Views: 62.7ms | ActiveRecord: 0.6ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 14:23:30 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:23:30 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.5ms)
  Rendered chats/index.html.erb within layouts/application (8.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 66ms (Views: 61.9ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:23:44 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  Rendered homes/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 46ms (Views: 45.3ms | ActiveRecord: 0.1ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 14:23:46 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"aXksGJwQFNjJTCB2gjcQXr2KR+TmYhndOP5prhgcpZss+qCH23YPKJsK0l47uxmY57AnpK/NXt+cY/euYH0ENA=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:23:46 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 41ms (Views: 40.6ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 14:24:01 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Z3AwhJcPQNafYtrZbLh5coC3fQ/BUJgQ9JGSKL/QTjsi87wb0GlbJs0kKPHVNHC02o0dT4j/3xJQDAwox7HvlA==", "session"=>{"email"=>"user31@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user31@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 59ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:24:01 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 31]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 37.5ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:24:06 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 31]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 31]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 31]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (5.2ms)
  Rendered chats/index.html.erb within layouts/application (6.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 51.7ms | ActiveRecord: 0.5ms)


Started POST "/friendships/30" for 127.0.0.1 at 2018-12-11 14:24:16 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"bRdwTewFpwbXBwVZlz24MtP9BdCwkR3s4vwYkNEg2HgolPzSq2O89oVB93EusbH0icdlkPk+Wu5GYYaQqUF51w==", "id"=>"30"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 30], ["friend_id", 31]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 30], ["user_id", 31], ["created_at", "2018-12-11 06:24:16.269747"], ["updated_at", "2018-12-11 06:24:16.269747"]]
  [1m[35m (0.8ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:24:16 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 31]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 31]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 31]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.2ms)
  Rendered chats/index.html.erb within layouts/application (5.6ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 45.1ms | ActiveRecord: 0.4ms)


Started GET "/users/30" for 127.0.0.1 at 2018-12-11 14:24:24 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 31]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:24:24 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 31]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 31]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 31]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.7ms)
  Rendered chats/index.html.erb within layouts/application (6.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 48.3ms | ActiveRecord: 0.5ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-11 14:24:27 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"N2ASJS2ZB6Hfyv4gwDf9XzcVf2fGT5PShHfdA/XHsWRy4566av8cUY2MDAh5u/SZbS8fJ4/g1NAg6kMDjaYQyw==", "users"=>"30", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 31]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user30@test.com') AND "users"."id" != 30) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user31@test.com') AND "users"."id" != 31) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "chats" ("admin_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["admin_id", 31], ["name", "user30-user31"], ["created_at", "2018-12-11 06:24:27.904771"], ["updated_at", "2018-12-11 06:24:27.904771"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 30], ["chat_id", 9], ["created_at", "2018-12-11 06:24:27.905911"], ["updated_at", "2018-12-11 06:24:27.905911"]]
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 31], ["chat_id", 9], ["created_at", "2018-12-11 06:24:27.906868"], ["updated_at", "2018-12-11 06:24:27.906868"]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://localhost:3000/chats/9
Completed 302 Found in 13ms (ActiveRecord: 2.5ms)


Started GET "/chats/9" for 127.0.0.1 at 2018-12-11 14:24:27 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 9], ["id", 31]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 9]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 31]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 31]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 31]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.0ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 9]]
  Rendered chats/_chat_info.html.erb (1.4ms)
  Rendered chats/show.html.erb within layouts/application (11.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 51.9ms | ActiveRecord: 0.7ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 14:24:35 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"stXOUs/hcgePjhmHr6fe5jA7fI4OkXNwjNw10b8bWFj3VkLNiIdp993I668WK9cgagEczkc+NHIoQavRx3r59w=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:24:35 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 50.8ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 14:24:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fRKr/Eg9VMRUmugj+v4sriZUPpKieNzsgeHa6llsp7k4kSdjD1tPNAbcGgtDciVofG5e0uvXm+4lfETqIQ0GFg==", "session"=>{"email"=>"user30@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user30@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 59ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:24:48 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 34ms (Views: 33.6ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:24:51 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 30]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.9ms)
  Rendered chats/index.html.erb within layouts/application (7.5ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 59ms (Views: 54.5ms | ActiveRecord: 0.5ms)


Started GET "/users/31" for 127.0.0.1 at 2018-12-11 14:24:58 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"31"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 31]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:24:58 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 30]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.7ms)
  Rendered chats/index.html.erb within layouts/application (7.3ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 48.3ms | ActiveRecord: 0.4ms)


Started GET "/users/index_json?query=user32" for 127.0.0.1 at 2018-12-11 14:25:05 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user32"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 30) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 30) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user32%')[0m  [["user_id", 30]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started POST "/friendships?friend_id=32" for 127.0.0.1 at 2018-12-11 14:25:07 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"selLNY294cdmJqpVpag+ufkuPooBBUpGJWudYFLSzif0aseqytv6NzRgWH0cJDd/oxReykiqDUSB9gNgKrNviA==", "friend_id"=>"32"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 32], ["user_id", 30], ["created_at", "2018-12-11 06:25:07.124027"], ["updated_at", "2018-12-11 06:25:07.124027"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 4ms (ActiveRecord: 1.7ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:25:07 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 30]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.2ms)
  Rendered chats/index.html.erb within layouts/application (8.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 49.8ms | ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:26:36 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.7ms)

NoMethodError (undefined method `apply' for #<User:0x00007fc87016c9a8>):
  app/controllers/chats_controller.rb:10:in `index'


  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.4ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (56.1ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (45.7ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Library/Ruby/Gems/2.3.0/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (105.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:27:24 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (19.2ms)
  Rendered chats/index.html.erb within layouts/application (20.7ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 82ms (Views: 60.4ms | ActiveRecord: 1.4ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 14:27:39 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"7r2xuzSEiJ/e+nhjjVHIpI7lIdH4YgDNrsRHmNAJTi2rPj0kc+KTb4y8iks03cFi1N9BkbHNR88KWdmYqGjvgg=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:27:39 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.6ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 14:27:58 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xqDV8wdhx42dBhHT8zyIGr/7B+rG7M3QdGpBZJfsxwuDI1lsQAfcfc9A4/tKsIHc5cFnqo9DitLQ999k741mpA==", "session"=>{"email"=>"user32@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user32@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 65ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:27:58 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 32]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.2ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:28:02 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 32]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 32]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 32]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 32]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (5.1ms)
  Rendered chats/index.html.erb within layouts/application (6.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 69ms (Views: 63.7ms | ActiveRecord: 0.5ms)


Started DELETE "/friendships/30" for 127.0.0.1 at 2018-12-11 14:28:08 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"BKILlo8c/fdN4gu3rL18V2CtMHmud7b4byYlSwPaZTZBIYcJyHrmBx+k+Z8VMXWROpdQOefY8frLu7tLe7vEmQ==", "id"=>"30"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 32]]
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 32], ["friend_id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 32]]
  [1m[35mFriendship Load (0.1ms)[0m  SELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1  [["user_id", 30], ["friend_id", 32]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "friendships" WHERE "friendships"."id" = ?  [["id", 10]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 10ms (ActiveRecord: 2.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:28:08 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 32]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 32]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 32]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 32]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.8ms)
  Rendered chats/index.html.erb within layouts/application (4.5ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 44.9ms | ActiveRecord: 0.3ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 14:28:16 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"lPbXqr93Pvw+QqfuVE3uYpfOWfyhO3c8by9eXb+cmEnRdVs1+BElDGwEVcbtweekzfQ5vOiUMD7LssBdx/055g=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 32]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:28:16 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 40.1ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 14:28:30 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4h5OeR9K2r0aeAoGPzGWquY9HMtb49Ry0U3YzRHpv9mnncLmWCzBTUg++C6GvZ9svAd8ixJMk3B10EbNaYgedg==", "session"=>{"email"=>"user30@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user30@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 58ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:28:30 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 35ms (Views: 34.6ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:28:34 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.9ms)
  Rendered chats/index.html.erb within layouts/application (8.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 56.3ms | ActiveRecord: 0.5ms)


Started GET "/users/index_json?query=user32" for 127.0.0.1 at 2018-12-11 14:28:51 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user32"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 30) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 30) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user32%')  [["user_id", 30]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started POST "/friendships?friend_id=32" for 127.0.0.1 at 2018-12-11 14:28:53 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"ruoxCmaZ25KMgTqy28iO9/mojIUPMLYOCShjmkKwzxbrab2VIf/AYt7HyJpiRIcxo5LsxUaf8Qyttf2aOtFuuQ==", "friend_id"=>"32"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 32], ["user_id", 30], ["created_at", "2018-12-11 06:28:53.124098"], ["updated_at", "2018-12-11 06:28:53.124098"]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:28:53 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.4ms)
  Rendered chats/index.html.erb within layouts/application (9.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 52.6ms | ActiveRecord: 0.5ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-11 14:28:56 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qPoUvOaBni1yQv79Yb59sLmsuu4OMSneJNvRvwSh9sHteZgjoeeF3SAEDNXYMnR245barkeebtyARk+/fMBXbg==", "users"=>"32", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 32]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 8]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 9]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user32@test.com') AND "users"."id" != 32) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user30@test.com') AND "users"."id" != 30) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "chats" ("admin_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["admin_id", 30], ["name", "user32-user30"], ["created_at", "2018-12-11 06:28:56.948944"], ["updated_at", "2018-12-11 06:28:56.948944"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 32], ["chat_id", 10], ["created_at", "2018-12-11 06:28:56.950202"], ["updated_at", "2018-12-11 06:28:56.950202"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 30], ["chat_id", 10], ["created_at", "2018-12-11 06:28:56.951430"], ["updated_at", "2018-12-11 06:28:56.951430"]]
  [1m[35m (1.0ms)[0m  commit transaction
Redirected to http://localhost:3000/chats/10
Completed 302 Found in 22ms (ActiveRecord: 2.5ms)


Started GET "/chats/10" for 127.0.0.1 at 2018-12-11 14:28:56 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 10], ["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 30]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.2ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 10]]
  Rendered chats/_chat_info.html.erb (1.5ms)
  Rendered chats/show.html.erb within layouts/application (13.9ms)
  Rendered layouts/_login_panel.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 68ms (Views: 55.7ms | ActiveRecord: 1.2ms)


Started GET "/chats/10" for 127.0.0.1 at 2018-12-11 14:28:59 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 10], ["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 30]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.4ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 10]]
  Rendered chats/_chat_info.html.erb (1.3ms)
  Rendered chats/show.html.erb within layouts/application (12.5ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 52.2ms | ActiveRecord: 0.7ms)


Started GET "/chats/10" for 127.0.0.1 at 2018-12-11 14:34:17 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 10], ["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 10]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 30]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (11.8ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 10]]
  Rendered chats/_chat_info.html.erb (1.4ms)
  Rendered chats/show.html.erb within layouts/application (18.1ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 99ms (Views: 57.7ms | ActiveRecord: 2.1ms)


Started DELETE "/friendships/32" for 127.0.0.1 at 2018-12-11 14:34:26 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"j6Pj1MSOplqAf+n+17X3b4Q+icAt3PTu2MF8G9dwGLHKIG9Lg+i9qtI5G9ZuOf6p3gTpgGRzs+x8XOIbrxG5Hg==", "id"=>"32"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mFriendship Load (0.1ms)[0m  SELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1  [["user_id", 30], ["friend_id", 32]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "friendships" WHERE "friendships"."id" = ?  [["id", 11]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 32]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 8]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 9]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 10]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 10]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "chats_users" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 10]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "chats" WHERE "chats"."id" = ?  [["id", 10]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mFriendship Load (0.1ms)[0m  SELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1  [["user_id", 32], ["friend_id", 30]]
Redirected to http://localhost:3000/chats
Completed 302 Found in 16ms (ActiveRecord: 3.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:34:26 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.6ms)
  Rendered chats/index.html.erb within layouts/application (7.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 47.0ms | ActiveRecord: 0.4ms)


Started GET "/users/index_json?query=user32" for 127.0.0.1 at 2018-12-11 14:34:32 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user32"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 30) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 30) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user32%')  [["user_id", 30]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.5ms)


Started POST "/friendships?friend_id=32" for 127.0.0.1 at 2018-12-11 14:34:34 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"rRcX4zqRQEMliJDlyH9Bkf0EeHKZVMfBcOJwHD2O8SzolJt8ffdbs3fOYs1x80hXpz4YMtD7gMPUf+4cRe9Qgw==", "friend_id"=>"32"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 32], ["user_id", 30], ["created_at", "2018-12-11 06:34:34.338984"], ["updated_at", "2018-12-11 06:34:34.338984"]]
  [1m[35m (1.7ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 7ms (ActiveRecord: 2.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:34:34 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (9.5ms)
  Rendered chats/index.html.erb within layouts/application (11.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 67.6ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:34:39 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.7ms)
  Rendered chats/index.html.erb within layouts/application (8.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 52.1ms | ActiveRecord: 0.5ms)


Started GET "/users/index_json?query=user32" for 127.0.0.1 at 2018-12-11 14:34:45 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user32"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 30) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 30) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user32%')  [["user_id", 30]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started GET "/users/index_json?query=user33" for 127.0.0.1 at 2018-12-11 14:34:48 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user33"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 30) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 30) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user33%')  [["user_id", 30]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:35:01 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 30]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 30]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.3ms)
  Rendered chats/index.html.erb within layouts/application (7.8ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 51.4ms | ActiveRecord: 0.4ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 14:47:17 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"W8OgL8Z472efq1DJRelliOFM6DxK0B0wniw7xfyAv1geQCywgR70l83touH8ZWxOu3aIfAN/WjI6saXFhOEe9w=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:47:17 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 45ms (Views: 44.2ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 14:47:33 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"uRdUy4Pfx3Jtq99KEnL0aMt4SKmbMilKpqQuY1G2lmv8lNhUxLncgj/tLWKr/v2ukUIo6dKdbkgCObBjKdc3xA==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user1@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 62ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:47:33 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.5ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:47:38 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.9ms)
  Rendered chats/index.html.erb within layouts/application (7.6ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 51.9ms | ActiveRecord: 0.5ms)


Started GET "/users/index_json?query=user2" for 127.0.0.1 at 2018-12-11 14:47:56 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user2%')[0m  [["user_id", 1]]
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.4ms)


Started POST "/friendships?friend_id=2" for 127.0.0.1 at 2018-12-11 14:47:58 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"bSG7bLEvux4yJtBcjetiR1waiiC7HxKMQb82tg4nsEMoojfz9kmg7mBgInQ0Z2uBBiDqYPKwVY7lIqi2dkYR7A==", "friend_id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 2], ["user_id", 1], ["created_at", "2018-12-11 06:47:58.458011"], ["updated_at", "2018-12-11 06:47:58.458011"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 6ms (ActiveRecord: 1.9ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:47:58 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (6.6ms)
  Rendered chats/index.html.erb within layouts/application (8.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 53.9ms | ActiveRecord: 0.5ms)


Started DELETE "/friendships/2" for 127.0.0.1 at 2018-12-11 14:48:14 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"MqEDY5BawBz3xPT9P8RcSqm9WqOuEY38Z/EPq5NgKyB3Io/81zzb7KWCBtWGSFWM84c64+e+yv7DbJGr6wGKjw==", "id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 1], ["friend_id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "friendships" WHERE "friendships"."id" = ?[0m  [["id", 13]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 6]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 6]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "chats_users" WHERE "chats_users"."chat_id" = ?  [["chat_id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "chats" WHERE "chats"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 2], ["friend_id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "friendships" WHERE "friendships"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.8ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 12ms (ActiveRecord: 4.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:48:14 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.6ms)
  Rendered chats/index.html.erb within layouts/application (4.1ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 45.4ms | ActiveRecord: 0.4ms)


Started GET "/users/index_json?query=user2" for 127.0.0.1 at 2018-12-11 14:48:27 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user2%')  [["user_id", 1]]
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.3ms)


Started POST "/friendships?friend_id=2" for 127.0.0.1 at 2018-12-11 14:48:28 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"5u2XqHPDG/Ig8vJ2qVeZGgpLWH4RYLJC2xVvUYwa+kGjbhs3NKUAAnK0AF4Q25DcUHE4PljP9UB/iPFR9Htb7g==", "friend_id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 2], ["user_id", 1], ["created_at", "2018-12-11 06:48:28.847949"], ["updated_at", "2018-12-11 06:48:28.847949"]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:48:28 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.3ms)
  Rendered chats/index.html.erb within layouts/application (6.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 51.8ms | ActiveRecord: 0.4ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 14:48:36 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"u3xrrFEV8sadHd3iEcXja8MvfGPxs+qwPP5MNhM2xrb+/+czFnPpNs9bL8qoSeqtmRUcI7gcrbKYY9I2a1dnGQ=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:48:36 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.6ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 14:48:45 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"39KPLSeWSor5KihXNdKrC+cwJuHKN/dTGObUkZGVtE6aUQOyYPBReqts2n+MXqLNvQpGoYOYsFG8e0qR6fQV4Q==", "session"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user2@test.com"]]
Redirected to http://localhost:3000/
Completed 302 Found in 61ms (ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:48:45 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.0ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 29.7ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 14:48:58 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"o5kSp7O0F6AIWaElQMM03mzetG8M3g+a9eZWL54b5xvmGp449NIMUFofUw35Tz0YNuTUL0VxSJhRe8gv5npGtA==", "session"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user2@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 60ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:48:58 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 39ms (Views: 38.2ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:49:00 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (7.2ms)
  Rendered chats/index.html.erb within layouts/application (9.1ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 53.9ms | ActiveRecord: 0.7ms)


Started DELETE "/friendships/1" for 127.0.0.1 at 2018-12-11 14:49:09 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"0njZJd8zPPdv9uOxONdxXJpJ7VcoNSa8/N2IolMqC4uX+1W6mFUnBz2wEZmBW3iawHONF2GaYb5YQBaiK0uqJA==", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mFriendship Load (0.1ms)[0m  SELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1  [["user_id", 2], ["friend_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 8]]
  [1m[35mFriendship Load (0.1ms)[0m  SELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1  [["user_id", 1], ["friend_id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "friendships" WHERE "friendships"."id" = ?  [["id", 14]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:49:09 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.7ms)
  Rendered chats/index.html.erb within layouts/application (6.2ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 61ms (Views: 58.7ms | ActiveRecord: 0.4ms)


Started DELETE "/friendships/30" for 127.0.0.1 at 2018-12-11 14:49:11 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"rADriYsifL0MtaI3IE2Hys6YMyLEp7s74Iy/lzE1oOzpg2cWzERnTV7zUB+ZwY4MlKJTYo0I/DlEESGXSVQBQw==", "id"=>"30"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 2], ["friend_id", 30]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "friendships" WHERE "friendships"."id" = ?[0m  [["id", 6]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?[0m  [["chat_id", 8]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mMessage Load (0.1ms)[0m  [1mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?[0m  [["chat_id", 8]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "chats_users" WHERE "chats_users"."chat_id" = ?  [["chat_id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "chats" WHERE "chats"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 30], ["friend_id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "friendships" WHERE "friendships"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.9ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 12ms (ActiveRecord: 4.9ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:49:11 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.5ms)
  Rendered chats/index.html.erb within layouts/application (4.0ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 44.4ms | ActiveRecord: 0.3ms)


Started GET "/users/index_json?query=user1" for 127.0.0.1 at 2018-12-11 14:49:20 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 2) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 2) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user1%')  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 0.5ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-12-11 14:49:22 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"StoINXAg4N0F+bcy4WOeGZ+3u0PkmWRV77PJB8tLR6EPWYSqN0b7LVe/RRpY75ffxY3bA602I1dLLlcHsyrmDg==", "friend_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 1], ["user_id", 2], ["created_at", "2018-12-11 06:49:22.277521"], ["updated_at", "2018-12-11 06:49:22.277521"]]
  [1m[35m (1.0ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 4ms (ActiveRecord: 1.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:49:22 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (3.9ms)
  Rendered chats/index.html.erb within layouts/application (5.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 47.6ms | ActiveRecord: 0.4ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 14:49:26 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"uhPkYFvYw5QgGV9UOXnPSCwGbNrCNwyoHoCxbRgIfE3/kGj/HL7YZHJfrXyA9caOdjwMmouYS6q6HS9tYGnd4g=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:49:26 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.1ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 14:49:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"udQb3o5OCRJY6ZvYTxBRvl56MD6yK2xSXyRWF3Whcmj8V5dBySgS4gqvafD2nFh4BEBQfvuEK1D7ucgXDcDTxw==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user1@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 59ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:49:36 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 34ms (Views: 33.6ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:49:38 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (6.2ms)
  Rendered chats/index.html.erb within layouts/application (7.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 50.6ms | ActiveRecord: 0.6ms)


Started DELETE "/friendships/2" for 127.0.0.1 at 2018-12-11 14:49:50 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"6cIZNt0qI4kgMyp4MhxGpITBYvTrD3602dzaqcVkefSsQZWpmkw4eXJ12FCLkE9i3vsCtKKgObZ9QUSpvQXYWw==", "id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 1], ["friend_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mFriendship Load (0.1ms)[0m  SELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1  [["user_id", 2], ["friend_id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "friendships" WHERE "friendships"."id" = ?  [["id", 15]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:49:50 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.6ms)
  Rendered chats/index.html.erb within layouts/application (4.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 46.2ms | ActiveRecord: 0.3ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 14:49:57 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 55.8ms | ActiveRecord: 0.3ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 14:50:00 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"pprOd3wHbN2LgmmB/tAePjJNUZdrZSj1GObA9y1AWE7jGULoO2F3LdnEm6lHXBf4aHcx1yLKb/e8e173VSH54Q=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:50:00 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.7ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 14:50:14 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"sVUNt0SpQ4jgFjrxVKOcaaI22dTOBc8/BTCH/aODvFr01oEoA89YeLJQyNntL5Wv+Ay5lIeqiD2hrRn92+Id9Q==", "session"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user2@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 61ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:50:14 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 36.8ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:50:16 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.3ms)
  Rendered chats/index.html.erb within layouts/application (3.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 48.9ms | ActiveRecord: 0.3ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 14:50:21 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"dCEtD0DeoxMyHEqyZJgUhQwLKWHoT2RNvXaI/hZQGoExoqGQB7i442BauJrdFB1DVjFJIaHgI08Z6xb+bjG7Lg=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:50:21 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 41ms (Views: 41.1ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 14:50:31 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"9gQyun1sTTvFvJ10Oovhr1AYIIftyAa1KBLn6rdKz6yzh74lOgpWy5f6b1yDB+hpCiJAx6RnQbeMj3nqzytuAw==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user1@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 62ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:50:31 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 37.6ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:50:33 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (3.0ms)
  Rendered chats/index.html.erb within layouts/application (4.7ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 50.2ms | ActiveRecord: 0.6ms)


Started GET "/users/index_json?query=user2" for 127.0.0.1 at 2018-12-11 14:50:42 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user2%')[0m  [["user_id", 1]]
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 0.3ms)


Started POST "/friendships?friend_id=2" for 127.0.0.1 at 2018-12-11 14:50:44 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"UwDJqQnq0eUoDtM1H19RiqP/jcunx9obDfrGtSLqcJoWg0U2TozKFXpIIR2m01hM+cXti+5onRmpZ1i1WovRNQ==", "friend_id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 2], ["user_id", 1], ["created_at", "2018-12-11 06:50:44.400343"], ["updated_at", "2018-12-11 06:50:44.400343"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 5ms (ActiveRecord: 1.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:50:44 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.4ms)
  Rendered chats/index.html.erb within layouts/application (6.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 63ms (Views: 59.7ms | ActiveRecord: 0.3ms)


Started DELETE "/friendships/2" for 127.0.0.1 at 2018-12-11 14:50:54 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"teiJcBTPztwWnv1sOHizjK0RSbWp34c7aQkfwUakS1bwawXvU6nVLETYD0SB9LpK9ysp9eBwwDnNlIHBPsXq+Q==", "id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 1], ["friend_id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "friendships" WHERE "friendships"."id" = ?[0m  [["id", 16]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 2], ["friend_id", 1]]
Redirected to http://localhost:3000/chats
Completed 302 Found in 6ms (ActiveRecord: 1.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:50:54 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.8ms)
  Rendered chats/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 49.9ms | ActiveRecord: 0.3ms)


Started GET "/users/index_json?query=user2" for 127.0.0.1 at 2018-12-11 14:51:09 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user2%')[0m  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 0.3ms)


Started POST "/friendships?friend_id=2" for 127.0.0.1 at 2018-12-11 14:51:10 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"JcjfYnNZZW3kn4d7mAJ8uFykiwYvQMknjz5JrBW6ibBgS1P9ND9+nbbZdVMhjnV+Bp7rRmbvjiUro9esbdsoHw==", "friend_id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 2], ["user_id", 1], ["created_at", "2018-12-11 06:51:10.895122"], ["updated_at", "2018-12-11 06:51:10.895122"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 5ms (ActiveRecord: 1.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:51:10 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.5ms)
  Rendered chats/index.html.erb within layouts/application (6.0ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 51.3ms | ActiveRecord: 0.4ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 14:51:17 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"yYjaHtrOgTNF0xS7k86tGKv5v86F4DIK8qKyN3qShUaMC1aBnaiawxeV5pMqQqTe8cPfjsxPdQhWPyw3AvMk6Q=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:51:17 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 47.6ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 14:51:30 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"aneduaAImYbUCiUwRJMl/JfmpUb3uTDQ/mZrCeAq7r0v9BEm526CdoZM1xj9Hyw6zdzFBr4Wd9Ja+/UJmEtPEg==", "session"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user2@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 61ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:51:30 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 61ms (Views: 60.9ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:51:33 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.2ms)
  Rendered chats/index.html.erb within layouts/application (9.3ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 67ms (Views: 62.5ms | ActiveRecord: 0.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:54:51 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (17.5ms)
  Rendered chats/index.html.erb within layouts/application (19.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 84ms (Views: 59.6ms | ActiveRecord: 1.4ms)


Started GET "/users/index_json?query=user1" for 127.0.0.1 at 2018-12-11 14:55:42 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 2) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 2) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user1%')  [["user_id", 2]]
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.4ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-12-11 14:55:44 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"/yEJy1cLH50S84jjbdf6pYmhaRpwBoxNLrrAaYVthDu6ooVUEG0EbUC1esvUW/Nj05sJWjmpy0+KJ15p/QwllA==", "friend_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 1], ["user_id", 2], ["created_at", "2018-12-11 06:55:44.785852"], ["updated_at", "2018-12-11 06:55:44.785852"]]
  [1m[35m (1.6ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:55:44 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.9ms)
  Rendered chats/index.html.erb within layouts/application (7.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 52.6ms | ActiveRecord: 0.5ms)


Started GET "/users/index_json?query=user4" for 127.0.0.1 at 2018-12-11 14:57:16 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user4"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 2) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 2) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user4%')  [["user_id", 2]]
Completed 200 OK in 21ms (Views: 1.4ms | ActiveRecord: 0.9ms)


Started POST "/friendships?friend_id=40" for 127.0.0.1 at 2018-12-11 14:57:20 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"8IWfv6+wIot9i6NMAADFDyT8kTWDJRJyfOYmHpH0Oia1BhMg6NY5ey/NUWS5jMzJfsbxdcqKVXDYe7ge6ZWbiQ==", "friend_id"=>"40"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 40], ["user_id", 2], ["created_at", "2018-12-11 06:57:20.204311"], ["updated_at", "2018-12-11 06:57:20.204311"]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:57:20 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 2]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (21.2ms)
  Rendered chats/index.html.erb within layouts/application (22.8ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 79ms (Views: 68.2ms | ActiveRecord: 1.6ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 14:57:27 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"QW9BWsInD5BWiusulowPTuaJpzm6EoqtsHiKajGn/XoE7M3FhUEUYATMGQYvAAaIvLPHefO9za8U5RRqScZc1Q=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:57:27 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 47.3ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 14:57:41 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"p0uC6BAzjb3VUWgjox5/JMiMZ7VmmxPfQhB1ibowpbXiyA53V1WWTYcXmgsaknbikrYH9S80VN3mjeuJwlEEGg==", "session"=>{"email"=>"user40@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user40@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 60ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 14:57:42 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.6ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:57:44 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 40]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 40]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 40]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (6.7ms)
  Rendered chats/index.html.erb within layouts/application (8.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 52.6ms | ActiveRecord: 0.7ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:59:43 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 40]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 40]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 40]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (17.6ms)
  Rendered chats/index.html.erb within layouts/application (19.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 84ms (Views: 59.7ms | ActiveRecord: 1.4ms)


Started DELETE "/friendships/2" for 127.0.0.1 at 2018-12-11 14:59:47 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"f6A/UZW8iMrhcd8c9EtwDmP437hGjLiSI6IVtZBW6t06I7PO0tqTOrM3LTRNx3nIOcK/+A8j/5CHP4u16DdLcg==", "id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 40], ["friend_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 40]]
  [1m[35mFriendship Load (0.1ms)[0m  SELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1  [["user_id", 2], ["friend_id", 40]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "friendships" WHERE "friendships"."id" = ?  [["id", 19]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 14:59:47 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 40]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 40]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 40]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.7ms)
  Rendered chats/index.html.erb within layouts/application (4.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 44.5ms | ActiveRecord: 0.4ms)


Started GET "/users/index_json?query=user4" for 127.0.0.1 at 2018-12-11 15:00:01 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 40) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 40) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user4%')[0m  [["user_id", 40]]
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.5ms)


Started POST "/friendships?friend_id=41" for 127.0.0.1 at 2018-12-11 15:00:04 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"YulRTNiURvvu7dhCqGcJvEbm+DPGmQfkdlM+crUW8HYnat3Tn/JdC7yrKmoR6wB6HNyYc482QObSzqByzXdR2Q==", "friend_id"=>"41"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
Redirected to http://localhost:3000/chats
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:00:04 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 40]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 40]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 40]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.6ms)
  Rendered chats/index.html.erb within layouts/application (4.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 47.7ms | ActiveRecord: 0.3ms)


Started GET "/users/index_json?query=41" for 127.0.0.1 at 2018-12-11 15:02:38 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"41"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 40) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 40) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%41%')  [["user_id", 40]]
Completed 200 OK in 30ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started POST "/friendships?friend_id=41" for 127.0.0.1 at 2018-12-11 15:02:40 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"OzXlEke2Cp5iAzR3bzwtwd32SZe4XIvVJ93lTpwYXcB+tmmNANARbjBFxl/WsCQHh8wp1/HzzNeDQHtO5Hn8bw==", "friend_id"=>"41"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 41], ["user_id", 40], ["created_at", "2018-12-11 07:02:40.304812"], ["updated_at", "2018-12-11 07:02:40.304812"]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:02:40 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 40]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 40]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 40]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (14.8ms)
  Rendered chats/index.html.erb within layouts/application (16.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 66ms (Views: 59.2ms | ActiveRecord: 1.0ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 15:02:46 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"2FwV+AZ6KHQ6vZyGnQtRlLucpr0YqYYR56Oo5VPEx2ed35lnQRwzhGj7bq4kh1hS4abG/VEGwRNDPjblK6VmyA=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:02:46 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.1ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 15:02:57 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"pkl59gjy6eOCQOw/h0rxtFo45QgdQceZWjY7ukplEFPjyvVpT5TyE9AGHhc+xvhyAAKFSFTugJv+q6W6MgSx/A==", "session"=>{"email"=>"user41@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user41@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 62ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:02:57 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 41]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 37.5ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:02:59 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 41]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 41]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 41]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (8.5ms)
  Rendered chats/index.html.erb within layouts/application (10.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 54.2ms | ActiveRecord: 0.7ms)


Started DELETE "/friendships/40" for 127.0.0.1 at 2018-12-11 15:04:02 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"LtEvvP9LUrR6jORfGR6SbVR2lfxFpSgLk1REelK+2AFrUqMjuC1JRCjKFnegkpurDkz1vAwKbwk3ydp6Kt95rg==", "id"=>"40"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 41], ["friend_id", 40]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 41]]
  [1m[35mFriendship Load (0.1ms)[0m  SELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1  [["user_id", 40], ["friend_id", 41]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "friendships" WHERE "friendships"."id" = ?  [["id", 20]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 35ms (ActiveRecord: 3.7ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:04:02 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 41]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 41]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.6ms)
  Rendered chats/index.html.erb within layouts/application (4.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 46.9ms | ActiveRecord: 0.5ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 15:04:06 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"d27MG2dNiK6V0r5Ptrd28qbv/rqfSOyplnJ/FNrvH8Iy7UCEICuTXseUTGcPO380/NWe+tbnq6sy7+EUoo6+bQ=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:04:06 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 55.2ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 15:04:16 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"SK60xUB3Oh5Nm8i3F9LbXF000S3qtbcro4to8TRTmFcNLThaBxEh7h/dOp+uXtKaBw6xbaMa8CkHFvbxTDI5+A==", "session"=>{"email"=>"user40@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user40@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 59ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:04:16 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 35.9ms | ActiveRecord: 0.1ms)


Started GET "/users/40" for 127.0.0.1 at 2018-12-11 15:04:18 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"40"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
  Rendered users/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 48.4ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:04:19 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 40]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 40]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 40]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (3.1ms)
  Rendered chats/index.html.erb within layouts/application (4.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 48.0ms | ActiveRecord: 0.6ms)


Started GET "/users/index_json?query=41" for 127.0.0.1 at 2018-12-11 15:04:26 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"41"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 40) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 40) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%41%')  [["user_id", 40]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started POST "/friendships?friend_id=41" for 127.0.0.1 at 2018-12-11 15:04:28 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"A1QhqyBjfdk4n8WDTisGjqtZ01KE9ijARe1PcvAfVDNG1600ZwVmKWrZN6v3pw9I8WOzEs1Zb8LhcNFyiH71nA==", "friend_id"=>"41"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
Redirected to http://localhost:3000/chats
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:04:28 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 40]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 40]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 40]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.9ms)
  Rendered chats/index.html.erb within layouts/application (4.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 46.8ms | ActiveRecord: 0.3ms)


Started GET "/users/index_json?query=41" for 127.0.0.1 at 2018-12-11 15:04:43 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"41"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 40) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 40) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%41%')[0m  [["user_id", 40]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started POST "/friendships?friend_id=41" for 127.0.0.1 at 2018-12-11 15:04:44 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"iAzbgVQ9FASEIzbIcEte5n4PvXQFDdevft7y/z7+OoXNj1ceE1sP9NZlxODJx1cgJDXdNEyikK3aQ2z/Rp+bKg==", "friend_id"=>"41"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
Redirected to http://localhost:3000/chats
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:04:44 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 40]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 40]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 40]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.7ms)
  Rendered chats/index.html.erb within layouts/application (4.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 51.1ms | ActiveRecord: 0.3ms)


Started GET "/users/index_json?query=41" for 127.0.0.1 at 2018-12-11 15:09:22 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"41"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 40) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 40) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%41%')  [["user_id", 40]]
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 0.9ms)


Started POST "/friendships?friend_id=41" for 127.0.0.1 at 2018-12-11 15:09:23 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"XkLPhaZIwj/LBMLOzPgeighnWGFowlhSinZvsF33R88bwUMa4S7Zz5lCMOZ1dBdMUl04ISFtH1Au6/GwJZbmYA==", "friend_id"=>"41"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friendships" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 40], ["created_at", "2018-12-11 07:09:24.003965"], ["updated_at", "2018-12-11 07:09:24.003965"]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:09:24 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 40]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 40]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 40]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (12.2ms)
  Rendered chats/index.html.erb within layouts/application (13.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 62ms (Views: 55.9ms | ActiveRecord: 0.9ms)


Started GET "/users/index_json?query=41" for 127.0.0.1 at 2018-12-11 15:10:07 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"41"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 40) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 40) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%41%')  [["user_id", 40]]
Completed 200 OK in 20ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started POST "/friendships?friend_id=41" for 127.0.0.1 at 2018-12-11 15:10:08 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"Oic8m4NySB8yF4yJlJ82XE4vhSORPRS5wCuCo83YHDR/pLAExBRT72BRfqEtEz+aFBXlY9iSU7tkthyjtbm9mw==", "friend_id"=>"41"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 41], ["user_id", 40], ["created_at", "2018-12-11 07:10:08.719359"], ["updated_at", "2018-12-11 07:10:08.719359"]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:10:08 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 40]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 40]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 40]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (14.3ms)
  Rendered chats/index.html.erb within layouts/application (15.8ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 65ms (Views: 58.5ms | ActiveRecord: 0.9ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 15:10:14 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"t+ADehR2AE24L6SIAi7+VGi1YHZwclLfWI9ZPIohUsPyY4/lUxAbveppVqC7oveSMo8ANjndFd38Esc88kDzbA=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:10:14 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 15:10:24 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"juEfCP2/3Toxu9px8BK+lBuhbysBwbAUQ5Q0/R+lRU/LYpOXutnGymP9KFlJnrdSQZsPa0hu9xbnCar9Z8Tk4A==", "session"=>{"email"=>"user41@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user41@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 60ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:10:24 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 41]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 37.1ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:10:26 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 41]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 41]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (10.4ms)
  Rendered chats/index.html.erb within layouts/application (12.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 74ms (Views: 70.3ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:13:54 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 41]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 41]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (19.4ms)
  Rendered chats/index.html.erb within layouts/application (21.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.2ms)
Completed 200 OK in 87ms (Views: 63.3ms | ActiveRecord: 1.4ms)


Started DELETE "/friendships/40" for 127.0.0.1 at 2018-12-11 15:14:05 +0800
Processing by FriendshipsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ob0DoUYAxu0vR08+381je3ZkoD3W9P09xO5zH/I9Wv3kPo8+AWbdHX0BvRZmQWq9LF7AfZ9buj9gc+0filz7Ug==", "id"=>"40"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mFriendship Load (0.2ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 41], ["friend_id", 40]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 41]]
  [1m[35mFriendship Load (0.1ms)[0m  SELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1  [["user_id", 40], ["friend_id", 41]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "friendships" WHERE "friendships"."id" = ?  [["id", 22]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:14:05 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 41]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 41]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.6ms)
  Rendered chats/index.html.erb within layouts/application (4.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 44.9ms | ActiveRecord: 0.3ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 15:14:09 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"7thXnG4Uex7K7IdxZGgNXSyXbWJnQ3oC/pMWqXlkPRerW9sDKXJg7piqdVnd5ASbdq0NIi7sPQBaDoipAQWcuA=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:14:09 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 42.7ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 15:14:23 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vhMg8cfONXT44t+LUkfGOqmwpaUWglo/qUS0Xxwlllb7kKxugKguhKqkLaPry8/884rF5V8tHT0N2SpfZEQ3+Q==", "session"=>{"email"=>"user40@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user40@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 60ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:14:23 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 40]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.4ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 33ms (Views: 33.0ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:14:25 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 40]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 40]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 40]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (3.3ms)
  Rendered chats/index.html.erb within layouts/application (5.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 66ms (Views: 61.6ms | ActiveRecord: 0.6ms)


Started GET "/users/index_json?query=41" for 127.0.0.1 at 2018-12-11 15:14:32 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"41"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 40) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 40) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%41%')  [["user_id", 40]]
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.8ms)


Started POST "/friendships?friend_id=41" for 127.0.0.1 at 2018-12-11 15:14:34 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"XRGM8QKls9HyeDaSK4tXuj/nsSxpTix157rJ4qTdXiYYkgBuRcOoIaA+xLqSB158Zd3RbCDha3dDJ1fi3Lz/iQ==", "friend_id"=>"41"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 41], ["user_id", 40], ["created_at", "2018-12-11 07:14:34.172178"], ["updated_at", "2018-12-11 07:14:34.172178"]]
  [1m[35m (1.3ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 5ms (ActiveRecord: 1.9ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:14:34 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 40]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 40]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 40]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.1ms)
  Rendered chats/index.html.erb within layouts/application (5.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 47.2ms | ActiveRecord: 0.4ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 15:14:44 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Xo9guLKPBmTLUlRBvnEU/v21/H/s7I5rwSnI8iDg6NUbDOwn9ekdlJkUpmkH/R04p4+cP6VDyWlltFbyWIFJeg=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:14:44 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.7ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 15:14:58 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FNZTWjj6CAfIMnUikKuxyObv4mac19W2MVqx1gxQnjBRVd/Ff5wT95p0hwopJ7gOvNWCJtV4krSVxy/WdDE/nw==", "session"=>{"email"=>"user41@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user41@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 61ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:14:58 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 41]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 36.6ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:15:00 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 41]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 41]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (7.0ms)
  Rendered chats/index.html.erb within layouts/application (8.9ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 52.9ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:15:49 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 41]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 41]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (20.0ms)
  Rendered chats/index.html.erb within layouts/application (21.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 100ms (Views: 76.8ms | ActiveRecord: 1.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:16:57 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 41]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 41]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 41]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (14.1ms)
  Rendered chats/index.html.erb within layouts/application (15.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 80ms (Views: 55.9ms | ActiveRecord: 1.7ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:16:58 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 41]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 41]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.0ms)
  Rendered chats/index.html.erb within layouts/application (5.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 46.0ms | ActiveRecord: 0.3ms)


Started POST "/friendships/40" for 127.0.0.1 at 2018-12-11 15:17:09 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"ay0vjYu6VzvLQ1jEUyiI8QJozC3f0Rsx9WqYL20G900urqMSzNxMy5kFquzqpIE3WFKsbZZ+XDNR9wYvFWdW4g==", "id"=>"40"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 40]]
  [1m[35mFriendship Load (0.2ms)[0m  SELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1  [["user_id", 40], ["friend_id", 41]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 40], ["user_id", 41], ["created_at", "2018-12-11 07:17:09.347036"], ["updated_at", "2018-12-11 07:17:09.347036"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:17:09 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 41]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 41]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.2ms)
  Rendered chats/index.html.erb within layouts/application (8.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 49.6ms | ActiveRecord: 0.4ms)


Started GET "/users/index_json?query=42" for 127.0.0.1 at 2018-12-11 15:17:17 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"42"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 41) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 41) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%42%')[0m  [["user_id", 41]]
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.8ms)


Started POST "/friendships?friend_id=42" for 127.0.0.1 at 2018-12-11 15:17:18 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"JLbD8C1/H7qp6hmy695ZFlC22R9EjySG6RHqbtF1MgRhNU9vahkESvus65pSUlDQCoy5Xw0gY4RNjHRuqRSTqw==", "friend_id"=>"42"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 42], ["user_id", 41], ["created_at", "2018-12-11 07:17:18.400474"], ["updated_at", "2018-12-11 07:17:18.400474"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 4ms (ActiveRecord: 1.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:17:18 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 41]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 41]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.3ms)
  Rendered chats/index.html.erb within layouts/application (6.8ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 67ms (Views: 63.7ms | ActiveRecord: 0.4ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 15:17:23 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"74HJGYdjlsO6R1reqHpLAbPwN2N5NFwt4Z3tfPtWcNmqAkWGwAWNM+gBqPYR9kLH6cpXIzCbGy9FAHN8gzfRdg=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:17:23 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 46.2ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 15:17:33 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"44Ap5jC4buF/rte2dRw2AxetNtn3saS3fbmvo/B/06imA6V5d951ES3oJZ7MkD/FTZdWmb4e47XZJDGjiB5yBw==", "session"=>{"email"=>"user42@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user42@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 60ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:17:33 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 42]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 39.5ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:17:35 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 42]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 42]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 42]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 42]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (5.8ms)
  Rendered chats/index.html.erb within layouts/application (7.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 55.2ms | ActiveRecord: 0.4ms)


Started POST "/friendships/41" for 127.0.0.1 at 2018-12-11 15:17:39 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"hWIuevUY2ektXnMz9tC8eo6n3DKWPaE9FtbCfz+W3FnA4aLlsn7CGX8YgRtPXLW81J28ct+S5j+yS1x/R/d99g==", "id"=>"41"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 42]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 41]]
  [1m[36mFriendship Load (0.1ms)[0m  [1mSELECT  "friendships".* FROM "friendships" WHERE "friendships"."user_id" = ? AND "friendships"."friend_id" = ? LIMIT 1[0m  [["user_id", 41], ["friend_id", 42]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 41], ["user_id", 42], ["created_at", "2018-12-11 07:17:39.459850"], ["updated_at", "2018-12-11 07:17:39.459850"]]
  [1m[35m (1.6ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:17:39 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 42]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 42]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 42]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 42]]
  Rendered chats/_search_fridends.html.erb (0.8ms)
  Rendered chats/_navside.html.erb (5.9ms)
  Rendered chats/index.html.erb within layouts/application (7.6ms)
  Rendered layouts/_login_panel.html.erb (6.4ms)
  Rendered layouts/_header.html.erb (8.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 75ms (Views: 71.4ms | ActiveRecord: 0.4ms)


Started GET "/users/41" for 127.0.0.1 at 2018-12-11 15:18:55 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"41"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 41]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 42]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:18:55 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 42]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 42]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 42]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 42]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.6ms)
  Rendered chats/index.html.erb within layouts/application (6.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 60ms (Views: 56.4ms | ActiveRecord: 0.3ms)


Started GET "/users/41" for 127.0.0.1 at 2018-12-11 15:26:08 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"41"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 41]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 42]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:26:08 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 42]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 42]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 42]]
  [1m[35mChat Load (0.3ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 42]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.9ms)
  Rendered chats/index.html.erb within layouts/application (6.6ms)
  Rendered layouts/_login_panel.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 69ms (Views: 64.7ms | ActiveRecord: 0.7ms)


Started GET "/users/41" for 127.0.0.1 at 2018-12-11 15:26:19 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"41"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 42]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:26:19 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 42]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 42]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 42]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 42]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.9ms)
  Rendered chats/index.html.erb within layouts/application (7.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 72ms (Views: 63.3ms | ActiveRecord: 0.8ms)


Started GET "/users/41" for 127.0.0.1 at 2018-12-11 15:29:15 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"41"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 42]]
  Rendered users/show.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 61ms (Views: 46.2ms | ActiveRecord: 0.7ms)


Started GET "/users/41/edit" for 127.0.0.1 at 2018-12-11 15:29:19 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"41"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 42]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:29:19 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 42]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 42]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 42]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 42]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (18.3ms)
  Rendered chats/index.html.erb within layouts/application (19.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 76ms (Views: 63.4ms | ActiveRecord: 1.0ms)


Started GET "/users/41" for 127.0.0.1 at 2018-12-11 15:29:38 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"41"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 42]]
  Rendered users/show.html.erb within layouts/application (0.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 59ms (Views: 44.9ms | ActiveRecord: 0.7ms)


Started GET "/users/41/edit" for 127.0.0.1 at 2018-12-11 15:29:42 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"41"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 42]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:29:42 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 42]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 42]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 42]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 42]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (30.6ms)
  Rendered chats/index.html.erb within layouts/application (32.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 94ms (Views: 77.1ms | ActiveRecord: 1.2ms)


Started GET "/users/41" for 127.0.0.1 at 2018-12-11 15:31:27 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"41"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 41]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 42]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 47.0ms | ActiveRecord: 0.4ms)


Started GET "/users/41/edit" for 127.0.0.1 at 2018-12-11 15:31:29 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"41"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 41]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 42]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:31:29 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 42]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 42]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 42]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 42]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.6ms)
  Rendered chats/index.html.erb within layouts/application (6.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 50.6ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:31:36 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 42]]
  Rendered homes/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 48.0ms | ActiveRecord: 0.1ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-12-11 15:31:39 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"yEgkRYN7sBkni63yqkSdJKyo5uqKf7/Q2c6pjgiqHqmNy6jaxB2r6XXNX9oTyJTi9pKGqsPQ+NJ9UzeOcMu/Bg=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 42]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:31:39 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-11 15:31:54 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HhSvASuByq3FDWLRM2Tbi9GyduP4BtIP/lGetrRHD2lblyOebOfRXZdLkPmK6NJNi4gWo7GplQ1azAC2zCauxg==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user1@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 61ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:31:54 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 37.3ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:31:56 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.4ms)
  Rendered chats/index.html.erb within layouts/application (7.2ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 51.1ms | ActiveRecord: 0.6ms)


Started POST "/chats" for 127.0.0.1 at 2018-12-11 15:32:01 +0800
Processing by ChatsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vMczL/Dtz/U9TSHQdpIvDDPQJkRJ5ZOm2Fj0BW8GhG75RL+wt4vUBW8L0/jPHibKaepGBABK1KR8xWoFF2clwQ==", "users"=>"2", "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user2@test.com') AND "users"."id" != 2) LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "chats" ("admin_id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["admin_id", 1], ["name", "user2-user1"], ["created_at", "2018-12-11 07:32:01.269924"], ["updated_at", "2018-12-11 07:32:01.269924"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["user_id", 2], ["chat_id", 11], ["created_at", "2018-12-11 07:32:01.271300"], ["updated_at", "2018-12-11 07:32:01.271300"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "chats_users" ("user_id", "chat_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 1], ["chat_id", 11], ["created_at", "2018-12-11 07:32:01.272703"], ["updated_at", "2018-12-11 07:32:01.272703"]]
  [1m[35m (1.0ms)[0m  commit transaction
Redirected to http://localhost:3000/chats/11
Completed 302 Found in 20ms (ActiveRecord: 2.3ms)


Started GET "/chats/11" for 127.0.0.1 at 2018-12-11 15:32:01 +0800
Processing by ChatsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT  "chats".* FROM "chats" WHERE "chats"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ? AND "users"."id" = ? LIMIT 1[0m  [["chat_id", 11], ["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "chats_users" ON "users"."id" = "chats_users"."user_id" WHERE "chats_users"."chat_id" = ?  [["chat_id", 11]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.6ms)
  [1m[35mMessage Load (0.1ms)[0m  SELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = ?  [["chat_id", 11]]
  Rendered chats/_chat_info.html.erb (1.5ms)
  Rendered chats/show.html.erb within layouts/application (11.1ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 66ms (Views: 53.5ms | ActiveRecord: 1.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-11 15:32:04 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 46ms (Views: 44.9ms | ActiveRecord: 0.2ms)


Started GET "/users/2/edit" for 127.0.0.1 at 2018-12-11 15:32:09 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-11 15:32:09 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.5ms)
  Rendered chats/index.html.erb within layouts/application (6.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 46.9ms | ActiveRecord: 0.6ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-11 15:32:11 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 45.1ms | ActiveRecord: 0.2ms)


Started GET "/users/1/edit" for 127.0.0.1 at 2018-12-11 15:32:12 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/edit.html.erb within layouts/application (14.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 59ms (Views: 57.7ms | ActiveRecord: 0.2ms)


Started PATCH "/users/1" for 127.0.0.1 at 2018-12-11 15:32:17 +0800
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yx+28jcVYDkRE3oAETVYbfpfhvE+Ct84lA0Rg/r9TheOnDptcHN7yUNViCiouVGroGXmsXelmDowkI+DgpzvuA==", "user"=>{"name"=>"user1", "email"=>"user1@test.com", "password"=>"[FILTERED]", "phonenumber"=>"970.848.2303 x139", "sex"=>"female"}, "commit"=>"更新信息", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('user1@test.com') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$10$7WeOF98GIFEg5k8fkZRkGuDW2OFYkFHxZINJzKWSfHaQov//sqvmu"], ["updated_at", "2018-12-11 07:32:17.543633"], ["id", 1]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 62ms (ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2018-12-11 15:32:17 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 39ms (Views: 38.6ms | ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-13 14:25:56 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (1.8ms)
  Rendered layouts/_login_panel.html.erb (2.9ms)
  Rendered layouts/_header.html.erb (8.9ms)
  Rendered layouts/_content.html.erb (0.4ms)
Completed 200 OK in 145ms (Views: 141.4ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-13 14:26:09 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2JIfpu7tt8UEOb8Xh4QaURfiKQ6rTcL9dr+1OCOwuS5tin6gYkAQK/DkIaA5hOqdQPXMh0jluv64iMXe0ehvaA==", "session"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user2@test.com"]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 71ms (ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2018-12-13 14:26:09 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered homes/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_login_panel.html.erb (1.1ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 80ms (Views: 79.4ms | ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:26:12 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (5.3ms)
  Rendered layouts/_login_panel.html.erb (1.1ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 84ms (Views: 81.1ms | ActiveRecord: 0.3ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:29:00 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (1.9ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_content.html.erb (0.2ms)
Completed 200 OK in 118ms (Views: 117.0ms | ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:29:44 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 45.6ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:30:11 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 39ms (Views: 38.0ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:30:16 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 47.2ms | ActiveRecord: 0.2ms)


Started GET "/users/2/edit" for 127.0.0.1 at 2018-12-13 14:30:21 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/edit.html.erb within layouts/application (14.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 65ms (Views: 64.0ms | ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:31:14 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 39ms (Views: 37.8ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:31:24 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 34ms (Views: 32.8ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:31:40 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 36.5ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:33:56 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 45ms (Views: 43.7ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:33:58 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 48.8ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:36:36 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.8ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 34.9ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:37:31 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 39ms (Views: 37.8ms | ActiveRecord: 0.2ms)


Started GET "/users/2/edit" for 127.0.0.1 at 2018-12-13 14:37:41 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/edit.html.erb within layouts/application (11.4ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 59ms (Views: 56.6ms | ActiveRecord: 0.4ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:40:24 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 34ms (Views: 33.6ms | ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:41:32 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 33ms (Views: 31.6ms | ActiveRecord: 0.1ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:42:25 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  Rendered users/show.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 36.9ms | ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-12-13 14:49:25 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 40.2ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-12-13 14:49:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TMyN6y6oE7uUQhvcbkfj2re6A23SFjAk9OFq08rf7Nv4ihn5Mg+7M1+Jx5NswcBC6x+p51a9y+rJcJSl4dpqMw==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user1@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 57ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-12-13 14:49:39 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.3ms)
Completed 200 OK in 46ms (Views: 45.7ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-13 14:49:42 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (6.6ms)
  Rendered chats/index.html.erb within layouts/application (8.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 51.1ms | ActiveRecord: 0.6ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-13 14:49:53 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.2ms)


Started GET "/users/1/edit" for 127.0.0.1 at 2018-12-13 14:49:55 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/edit.html.erb within layouts/application (10.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.2ms)
Completed 200 OK in 55ms (Views: 53.0ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-12-13 14:50:00 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 47.5ms | ActiveRecord: 0.1ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-13 14:50:04 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 45.7ms | ActiveRecord: 0.3ms)


Started GET "/users/1/edit" for 127.0.0.1 at 2018-12-13 14:50:19 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/edit.html.erb within layouts/application (13.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 61ms (Views: 58.8ms | ActiveRecord: 0.4ms)


Started GET "/users/1" for 127.0.0.1 at 2018-12-13 14:50:30 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 50.2ms | ActiveRecord: 0.2ms)


Started GET "/users/1/edit" for 127.0.0.1 at 2018-12-13 14:50:44 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/edit.html.erb within layouts/application (14.1ms)
  Rendered layouts/_login_panel.html.erb (12.0ms)
  Rendered layouts/_header.html.erb (14.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 75ms (Views: 73.3ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-13 14:50:48 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.6ms)
  Rendered chats/_navside.html.erb (7.3ms)
  Rendered chats/index.html.erb within layouts/application (8.9ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 59ms (Views: 52.8ms | ActiveRecord: 0.7ms)


Started GET "/users/2" for 127.0.0.1 at 2018-12-13 14:50:51 +0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (0.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 45.6ms | ActiveRecord: 0.4ms)


Started GET "/users/2/edit" for 127.0.0.1 at 2018-12-13 14:50:54 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Redirected to http://localhost:3000/chats
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-12-13 14:50:54 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.8ms)
  Rendered chats/index.html.erb within layouts/application (6.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 48.4ms | ActiveRecord: 0.4ms)
